2007-12-03  Richard Hult  <richard@imendio.com>

	* src/Yelper.cpp: Patch from Matthias Clasen to fix bug #499050,
	building against xulrunner 1.9.

2007-10-22  Richard Hult  <richard@imendio.com>

	* configure.in.
	* libdevhelp-1.0.pc.in (Requires): Remove libgnomeui and
	gnome-vfs, as they are no longer used. Also make libwnk optional.
	Fixes bug #484896.

2007-10-08  Richard Hult  <richard@imendio.com>

	* configure.in: Move lanuage list to po/LINGUAS, fixes bug
	#464108 (Gilles Dartiguelongue).

2007-10-06  Richard Hult  <richard@imendio.com>

	* acinclude.m4:
	* configure.in:
	* src/dh-base.c:
	* src/dh-main.c: Make libwnck optional.

	* misc/gedit-plugin/Makefile.am: Use a non-gnumake specific rule.

2007-10-06  Richard Hult  <richard@imendio.com>

	Release 0.16.1.

2007-10-06  Richard Hult  <richard@imendio.com>

	* configure.in: Bump version.

2007-09-10  Richard Hult  <richard@imendio.com>

	* Release 0.16.

	* configure.in: Bump version.

2007-09-05  Jonh Wendell  <jwendell@gnome.org>

	* misc/gedit-plugin/devhelp.gedit-plugin.desktop.in: Updated
	plugin description to the new shortcut key.

2007-09-05  Jonh Wendell  <jwendell@gnome.org>

	* misc/gedit-plugin/devhelp/devhelp.py: Changed keybinding from F7
	to F2, avoiding a conflict with gtk 2.12

2007-08-23  Sunil Mohan Adapa  <sunil@atc.tcs.com>

	* configure.in: Added Telugu (te) to ALL_LINGUAS.

2007-06-18  Richard Hult  <richard@imendio.com>

	* configure.in: Release 0.15.

2007-05-28  Richard Hult  <richard@imendio.com>

	* src/Yelper.cpp: Fix build on Solaris, bug #439054.

2007-05-28  Richard Hult  <richard@imendio.com>

	* configure.in: Bump version.

	* data/devhelp.desktop.in.in: Don't hardcode the png extension,
	fixes bug #440434, patch from Loïc Minier.

2007-05-15  Richard Hult  <richard@imendio.com>

	* Release 0.14.

2007-05-09  Subhransu Behera <arya_subhransu@yahoo.co.in>

	* configure.in: Added Oriya (or) to ALL_LINGUAS.

2007-04-20  Richard Hult  <richard@imendio.com>

	* src/default-prefs-gecko-1-9.js: 
	* src/Makefile.am (default_prefs_files): Use theme colors for
	gecko 1.9 and later, fixes bug #347967.

2007-04-18  Mikael Hallendal  <micke@imendio.com>
	
	* src/dh-main.c (main): Call g_thread_init. Fixes bug #414221

2007-04-18  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (window_init): Remove the broken Esc key
	binding, it interferes with the typeahead search. The window
	manager keybindings should be used instead for minimizing the
	window.

2007-04-17  Richard Hult  <richard@imendio.com>

	* Makefile.am:
	* configure.in:
	* data/
	* data/dtd/:
	* data/ui/: Clean up a bit now that we can move things around
	nicely with svn.

2007-02-18  Ryan Lortie  <desrt@desrt.ca>

	* src/dh-window.[ch]: Add command to focus search field.
	* src/dh-main.c: Add --focus-search command line option and bacon
	  command (closes bug #409182).

2007-04-17  Richard Hult  <richard@imendio.com>

	* Apply patch from Huang Peng to add typeahead searching to the
	content area, fixes bug #116322.

2007-04-17  Richard Hult  <richard@imendio.com>

	* README: Update information about where books should be installed
	and the required version of the library we use. Fixes bug #411748.

2007-04-17  Richard Hult  <richard@imendio.com>

	* src/dh-window.c: Patch from Mariano Suárez-Alvarez to add
	missing mnemonics, bug #411376.

2007-04-17  Richard Hult  <richard@imendio.com>

	* devhelp.desktop.in.in: Patch from Kamil Páral to fix bug
	#417613, GNOME Goal #3: Remove "Application" category from
	.desktop files.

2007-04-17  Richard Hult  <richard@imendio.com>

	* configure.in: Bump version on trunk after branching.

2007-04-17  Richard Hult  <richard@imendio.com>
	
	* configure.in: Prepare for branching.

2007-03-13  Runa Bhattacharjee <runabh@gmail.com>

	* configure.in: Added Bengali India (bn_IN) to ALL_LINGUAS.

2007-03-10  Ihar Hrachyshka <iharh@gnome.org>

	* configure.in: Added be@latin to ALL_LINGUAS.

2007-03-07  Gintautas Miliauskas  <gintas@akl.lt>

	* configure.in: Added 'lt' (Lithuanian) to ALL_LINGUAS.

2007-02-14  Richard Hult  <richard@imendio.com>

	* m4/gecko.m4: Update from epiphany to fix bug #405384.

	* configure.in: Bump version.

2007-02-11  Theppitak Karoonboonyanan  <thep@linux.thai.net>

	* configure.in: Added 'th' (Thai) to ALL_LINGUAS.

2007-02-06  Pema Geyleg   <pema.geyleg@gmail.com>

	* configure.in: added dz to ALL_Linguas 

2007-02-02  Richard Hult  <richard@imendio.com>

	* Release 0.13.

2007-02-02  Naba Kumar  <naba@gnome.org>

	* libdevhelp-1.0.pc.in: Added gecko_home variable, addresses bug
	#341170.

2007-01-30  Priit Laes  <plaes@svn.gnome.org>

	* configure.in: Added 'et' to ALL_LINGUAS.

2007-01-22  David Trowbridge <trowbrds@gmail.com>

	* src/dh-html.c: Initialize the GtkMozEmbed widget to display
	about:blank instead of nothing. Fixes bug #334867.

2007-01-16  Matic Zgur <mr.zgur@gmail.com>

	* configure.in: Added 'sl' to ALL_LINGUAS.

2006-11-15  Richard Hult  <rhult@garlic>

	* src/dh-preferences.c (dh_preferences_show_dialog): Fix warning.

2006-11-10  Richard Hult  <richard@imendio.com>

	* configure.in: Fix name.

	* src/dh-base.c: (base_add_books_in_data_dir), (base_init_books),
	(dh_base_get): Remove the old non-xdg locations.

2006-08-23  Paolo Borelli  <pborelli@katamail.com>

	* src/dh-parser.c:
	* src/dh-window.c:
	* src/dh-search.c: Plug some memory leaks.

2006-08-18  Richard Hult  <richard@imendio.com>

	* src/dh-keyword-model.c: (keyword_model_get_column_type),
	* src/dh-link.c: (dh_link_get_is_deprecated),
	* src/dh-parser.c: (parser_start_node_cb):
	* src/dh-search.c: (dh_search_new, search_cell_data_func): Make
	deprecated keywords grey. Fixes bug #310542.

2006-08-17  Richard Hult  <richard@imendio.com>

	* src/dh-base.c: (base_add_books_in_data_dir), (base_init_books):
	* src/dh-parser.c: (parser_start_node_cb): Fix style and add
	parsing for the deprecated property.

2006-08-17  Richard Hult  <richard@imendio.com>

	* devhelp.desktop.in.in (_GenericName): Add generic name, fixes
	bug #349880 (Matthias Clasen).

2006-08-03  Richard Hult  <richard@imendio.com>

	* src/default-prefs-gecko-1-8.js: Comment out the document color
	setting for now, since it breaks on gecko < 1.9, bug #349229.

	* configure.in: Bump version.

2006-07-30  Jonathon Jongsma  <jonathon.jongsma@gmail.com>

	* devhelp.schemas.in: fix schema entry for
	show_advanced_search_options to match the actual gconf key used in
	code (was show_advanced_options), fixes bug #349352.

2006-07-27  Richard Hult  <richard@imendio.com>

	* Release 0.12

2006-07-27  Christian Persch  <chpe@cvs.gnome.org>

	* src/default-prefs-gecko-1-8.js: Always use theme colours.
	Fixes bug #347967.

2006-07-27  Richard Hult  <richard@imendio.com>

	* src/dh-window.c: (window_activate_quit):
	* ui/window.ui: Add quit menu item, fixes bug #346786.

2006-05-20  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-search.c:
	  o Added a search source distinction... to mark whether the
	    search string has been requested through the dh-search api
	    or from the entries themselves.
	  o When the advanced box is hidden... ignore book and page buffers
	    if the search comes from the entry.
	  o Set book & page entries upon gtk_widget_show (i.e. gconf setting)
	  o destroy book & page buffers when setting the entry (so as not to
	    re-enable those when the advanced_box shows up).
	
2006-05-17  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-search.c: Added a abstraction buffers in the DhSearch cleaning
	  up the code a little and allowing for the dh_search_set_search_string() 
	  api to work properly with the advanced box hidden.

2006-05-16  Richard Hult  <richard@imendio.com>

	* Makefile.am:
	* configure.in:
	* devhelp.keys.in:
	* devhelp.mime: Remove obsolete and unused mime/keys files.

	* src/dh-main.c: (main): Improve the option strings a bit.

	* ui/devhelp.glade:
	* src/dh-base.[ch:]
	* src/dh-search.[ch]:
	* src/dh-preferences.[ch]: Clean up a bit, and add a
	preference for showing/hiding the new search fields.

	* ui/Makefile.am: Dist the svg, fixes distcheck.

2006-05-15  Tristan Van Berkom <tvb@gnome.org>

	* configure.in: Bumping version to 0.12 in cvs.

2006-05-03  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-search.c: Fixed the glitches when dragging the paned over
	  the book & page entries.

	* src/dh-preferences.c:
	  o Dont build dialog in dh_preferences_init();
	  o Build the dialog every time we show it and 
	    destroy it in the "close" handler.
	  o When recieving settings updates through gconf, 
	    check that the dialog currently exists before 
	    setting the button activity/sensitivity.
	  o Now only one code segment is responsable for updating the
	    gecko fonts, usually run in an idle handler.

2006-05-03  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-search.c: Fix dh_search_set_search_string() to clear
	  the entries first.

	* ui/devhelp.glade: Set use_underline to TRUE for mnemonic
	  labels in the prefs dialog (since there was already a prefixed
	  underscore).

2006-04-28  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-parser.c: Now append book & page indexes into the
	  keyword list.

	* src/dh-keyword-model.c: Now return hits for page and book indexes
	  (much nicer search results over all)

	* src/dh-link.c: Patch possible segfaults on comparing NULL pointers

	* src/dh-search.c: Patched critical assertions in some searches
	  (i.e. gtk_entry_set_text called with NULL).

2006-04-28  Tristan Van Berkom <tvb@gnome.org>

	* src/dh-main.c: Added --version option.

	* src/dh-link.[ch]: Added book & page specification

	* src/dh-parser.c: Pass 'book' & 'page' parameter when parsing 
	  devhelp files.

	* src/dh-keyword-model.c: Use the 'book:bookname' and 'page:pagename' construct 
	  to perform book and page sensitive searches.

	* src/dh-search.c: Updated to reflect changes; now you can enter a book name
	  and or a page name to effect the search results (no completion implemented
	  here though unfortunately).

2006-04-17  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Remove obsolete entry for no_NO
	* po/nb.po: Updated this translation
	* po/no.po: Removed this translation.

2006-04-06  Johannes Schmid <jhs@cvs.gnome.org>

	* libdevhelp-1.0.pc.in: Correct requirement for libwnck-1.0.

2006-04-07  Richard Hult  <richard@imendio.com>

	* src/dh-main.c (main): Free the bacon! (message connection).

2006-04-03  Wouter Bolsterlee  <uws+gnome@xs4all.nl>

	* ui/devhelp.glade: Add keyboard mnemonics in preferences
	dialog (bug #336112, Wouter Bolsterlee)

2006-03-30  Richard Hult  <richard@imendio.com>

	* misc/gedit-plugin/devhelp/: Make it actually work.

2006-03-29  Richard Hult  <richard@imendio.com>

	* src/dh-main.c: (message_received_cb): Fix typo.
	
	* configure.in:
	* misc/Makefile.am:
	* misc/gedit-plugin: Add very simple gedit plugin for devhelp.

2006-03-26  Behdad Esfahbod  <behdad@gnome.org>

	* ui/Makefile.am: Respect DESTDIR.

2006-03-18  Chao-Hsiung Liao  <j_h_liau@yahoo.com.tw>

	* configure.in: Added "zh_HK" to ALL_LINGUAS.

2006-02-27  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in: Substitute GECKO_EXTRA_LIBS.
	Fixes the build with firefox trunk.

2006-02-27  Christian Persch  <chpe@cvs.gnome.org>

	Bug #332560.

	* Makefile.am: Fix builddir != srcdir build.
	* m4/gecko.m4: Sync gecko.m4 with Epiphany.
	* configure.in:
	* src/Makefile.am:
	* src/dh-gecko-utils.cpp:
	* src/dh-gecko-utils.h: Support xulrunner trunk.
	* src/dh-base.c: (dh_base_finalize), (base_class_init),
	(dh_base_new): Shut gecko down in dh_base_finalize.
	* src/dh-main.c: (main): Fix refcount leak so we can
	successfully shut down.
	* src/dh-window.c: (window_finalize): Unref the DhBase
	in finalize, to make shutdown work correctly.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* ui/Makefile.am: Pass -f to gtk-update-icon-cache, as it's rather
	crazy.

2006-02-18  Christian Persch  <chpe@cvs.gnome.org>

	* src/dh-preferences.c: (dh_preferences_init): Use SHAREDIR here too.

2006-02-18  Christian Persch  <chpe@cvs.gnome.org>

	Open external links in the web browser, not in devhelp. Bug #329928,
	also fixes bug #324471.

	* configure.in: Use AC_CONFIG_FILES.
	* src/.cvsignore: Updated.
	* src/Makefile.am: Build prefs.js file. Simplify defines.
	* src/default-prefs-common.js: Common prefs.
	* src/default-prefs-gecko-1-8.js: Gecko 1.8 specific prefs.
	* src/default-prefs-mozilla.js: Mozilla suite specific prefs.
	* src/default-prefs-toolkit.js: Toolkit specific prefs.
	* src/dh-book-tree.c: (book_tree_create_pixbufs): Use SHAREDIR define.
	* src/dh-gecko-utils.cpp: Updated from yelp. Read the default prefs
	file on startup.

2006-02-18  Christian Persch  <chpe@cvs.gnome.org>

	* ui/devhelp.glade: Adjust spacings to be HIG compliant.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* ui/COPYING: Removed.  The copying information in in the SVG
	itself now, as well as the original author.

	* ui/Makefile.am: Adapt to above.  Correct installation path for
	SVG icon.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* ui/Makefile.am: Pass -t and the target directory to
	gtk-update-icon-cache.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* src/dh-main.c (main): Pass gettextized string to
	g_set_application_name, as per glib docs recommendation.

	* src/dh-main.c (main): Set default icon name to devhelp.

	* src/dh-window.c (dh_window_new): Set window icon name
	to devhelp (and no icon file tweaking at all.)

	* ui/Makefile.am: Install PNG and SVG icons in the themeable
	locations.  Call gtk-update-icon-cache.  Distribute ui/COPYING.
	Fixes bug #330851.

	* ui/devhelp.svg, ui/devhelp.png: Shiny new single red book icon
	from Marcus Leyman. Fixes bug #144859.

	* ui/COPYING: Copying infor for the new icon.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* src/dh-base.c (base_init_books): Add books installed into user and
	system data dirs. Patch from Antoine Dopffer. Fixes bug #328668.

2006-02-18  Behdad Esfahbod  <behdad@gnome.org>

	* devhelp.desktop.in.in: Categorize as GTK too, and add MimeType.
	Patch from Stephane LOEUILLET. Fixes bug #328030.

2006-02-17  Richard Hult  <richard@imendio.com>

	* configure.in: Update GTK+/GLib requirements to 2.8 since that's
	what we need. Fixes bug #326071.

	* src/dh-main.c (main): Check if the options were correct. Fixes
	bug #328948.

2006-01-21  Richard Hult  <richard@imendio.com>

	* src/bacon-message-connection.c:
	* src/bacon-message-connection.h: Update from bacon.

2006-01-15 Christian Persch <chpe@cvs.gnome.org>

	* m4/gecko.m4:

	Updated from Epiphany: correct gecko version check
	if mozilla-config.h includes other files (multi-arch).

2006-01-02  Mikael Hallendal  <micke@imendio.com>

	* MAINTAINERS: Added

2005-12-17  Richard Hult  <richard@imendio.com>

	* Release 0.11.

	* README: Bring a bit more up to date.

2005-12-17  Richard Hult  <richard@imendio.com>

	* NEWS: Prepare for a release.

	* Makefile.am:
	* autogen.sh:
	* configure.in:
	* src/Makefile.am: Patch from Christian Persch to simplify gecko
	configure checks, fixes bug #322750. Also bump the version.
	
2005-12-17  Richard Hult  <richard@imendio.com>

	* src/dh-base.c: (base_get_book_path), (base_add_books): 
	* src/dh-parser.c: (parser_start_node_cb), (dh_parser_read_file),
	(parser_read_gz_file): Add the new suffix for the new format and
	handle that.

2005-11-28  Richard Hult  <richard@imendio.com>

	* src/dh-main.c: (message_received_cb), (main): Make both new and
	old windows raise when searching through the bacon connection.

2005-11-19  Richard Hult  <richard@imendio.com>

	* src/dh-parser.c: (parser_start_node_cb), (dh_parser_read_file):
	Add ugly workaround until we have solved the version issue with
	the old/new devhelp formats.

2005-11-19  Richard Hult  <richard@imendio.com>

	* src/bacon-message-connection.c: Update.

	* src/dh-main.c: Use present_with_time and remove the separate
	raise command.

	* src/dh-parser.c: (parser_start_node_cb): Parse the new keyword
	tag.
	
	* src/dh-search.c: Remove old cruft.

2005-11-07  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in:	Allow compilation against xulrunner.
	Patch by Robert O'Callahan <rocallahan@novell.com>.

2005-10-05  Richard Hult  <richard@imendio.com>

	* src/dh-book-tree.c: 
	* src/dh-window.c: Make the window title be the book title + the
	html title. Fixes bug #313239.

2005-10-04  Richard Hult  <richard@imendio.com>

	* src/dh-parser.c (parser_start_node_cb): Strip out struct, union
	and enum from names, and also remove "()" from functions, fixes
	bug #108295.

2005-10-02  Richard Hult  <richard@imendio.com>

	* src/Makefile.am: Add commandhandler includes.

	* src/dh-gecko-utils.cpp:
	* src/dh-html.c: (dh_html_copy_selection):
	* src/dh-window.c: (window_activate_copy):
	* ui/window.ui: Add copy command and hook up in the UI, bug
	#120522.

2005-10-02  Richard Hult  <richard@imendio.com>

	* src/dh-gecko-utils.cpp (dh_gecko_utils_get_mouse_event_button):
	Clean up.
	
	(dh_gecko_utils_get_mouse_event_modifiers): Add to get the
	modifier keys for the mouse event.

	* src/dh-html.c (html_mouse_click_cb): Ctrl-click opens in new tab.

	* src/dh-gecko-utils.cpp (dh_gecko_utils_get_mouse_event_button):
	Use the right integer type when getting the button, and remove the
	PPC hack, that most most likely caused by endian problems before.

2005-10-02  Mikael Hallendal  <micke@imendio.com>

	* src/dh-window.c: (window_open_new_tab):
	- Select the new tab so you can start using it directly.

2005-10-02  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (window_key_press_event_cb): Escape minimizes,
	not higgy but very convenient when using as a complent to
	Emacs/vim.

	* src/dh-base.c: (dh_base_new_window): Don't show the window here.

	* ui/window.ui:
	* src/dh-gecko-utils.cpp:
	* src/dh-html.c:
	* src/dh-window.c: Add support for tabs. Based on patch from Brent
	Smith, bug #154248.
	- Remove externs from libdevhelp referrering to the devhelp
	binary.

2005-10-01  Richard Hult  <richard@imendio.com>

	* acinclude.m4:
	* configure.in:
	* src/Makefile.am: Reorganize a bit so that we can use compiler
	warnings better suited for C (split out the C++ part in a separate
	static library). Clean up the dependencies.

	* src/dh-base.c: Clean up a bit, initiaize gecko here instead of
	in main(). Use glib to read the directory list instead of gnomevfs
	and don't duplicate the code to read gzipped devhelp files.

	* src/dh-html.c: Remove unused includes.

	* src/dh-main.c: Don't initialize gecko here, remove unused
	includes. Remove the geometry option since it doesn't work and
	also breaks the libdevhelp library.
	
	* src/dh-parser.c: Clean up and handle conditional gzip support
	internally.
	
	* src/dh-window.c: Fix the function signature for delete-event,
	and don't destroy the window in the handler.

2005-09-30  Richard Hult  <richard@imendio.com>

	* src/dh-window.c:
	* ui/window.ui: Remove Quit menu item.

2005-09-29  Richard Hult  <richard@imendio.com>

	* Makefile.am: Remove stray space.

	* configure.in:
	* src/dh-base.c: (base_init),
	(dh_base_get_window_on_current_workspace): Use libwnck to track
	windows, since we can't differentiate between a minimized and
	on-another-workspace window otherwise.

	* src/dh-search.c (dh_search_new): Try without the search label
	for a bit.

2005-09-29  Richard Hult  <richard@imendio.com>

	* src/dh-base.c: (is_window_on_current_workspace),
	(dh_base_get_window_on_current_workspace): New function, returns a
	window if there is one on the current workspace.

	* src/dh-main.c: (message_received_cb), (main): Change to always
	create a window if there isn't one on the current workspace,
	otherwise use one of the available.
	
	* src/dh-window.c: (window_activate_new), (window_activate_close),
	* ui/window.ui: Add support for creating and closing windows,
	based on patch from Nirmal Kumar, bug #144516.

2005-09-28  Richard Hult  <richard@imendio.com>

	* src/dh-marshal.list:
	* src/dh-html.c: (html_class_init, html_init),
	(html_open_uri_cb): Add open-uri signal that is called before
	opening a location.
	
	* src/dh-search.c: (search_selection_changed_cb),
	(search_tree_button_press_cb): Don't emit link-selected twice when
	clicking in the tree.

	* ui/window.ui:
	* src/dh-window.c: Use the open-uri signal to update the book tree
	selection before loading the html, makes things feel
	snappier. Don't update the book tree selection when clicking it.
	- Add menu items for switching between the search and content
	tabs, bug #142054.

	Also update copyright and clean up some old cruft.

2005-09-28  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (window_location_changed_cb): Update the book
	tree here...
	(window_open_url): ...instead of here.

	* src/dh-book-tree.c (dh_book_tree_show_uri): Bring back to life,
	fix finding the node and expand the path.
	(book_tree_find_uri_foreach): Add as helper to the above. Fixes
	bug #134333. Might be too slow, but let's test it a bit.

	* src/dh-window.c (window_activate_about): Set the icon for the
	about box, patch from Pedro Villavicencio, bug #309547.

	* src/dh-keyword-model.c: (dh_keyword_model_filter): Apply patch
	from Ruben Vermeersch to add "smart case" searching, bug #166154.

2005-09-27  Richard Hult  <richard@imendio.com>

	* src/dh-search.c (search_init): Disable typeahead search in the
	hitlist.

	* src/dh-keyword-model.c (keyword_model_tree_model_init)
	(keyword_model_get_flags): Implement get_flags and specify that
	it's a list to get rid of the unneccesary space for the expander.

	* src/dh-search.c (dh_search_new): Try ellipsizing the hits to get
	rid of the horizontal scrolling.

	* src/dh-window.c (window_populate): Don't scroll the content tree
	horizontally.
	(window_restore_state, window_save_state): Save and restore the
	selected tab.

	* devhelp.schemas.in: Add the selected tab preference.

	* src/dh-book-tree.c (book_tree_add_columns): Ellipsize the
	titles.

2005-09-26  Richard Hult  <richard@imendio.com>

	* devhelp.schemas.in: Clarify two strings, bug #313930.

	* src/dh-html.c: (html_title_cb):
	* src/dh-window.c: (window_init), (window_location_changed_cb),
	(window_title_changed_cb): Patch from Tommi Komulainen to use the
	html title as window title, bug #144452.

2005-09-26  Richard Hult  <richard@imendio.com>

	* src/dh-window.c: Apply patch from Paolo Borelli to constify the
	UI actions, bug #302557.

2005-09-05  Ignacio Casal Quinteiro  <nacho.resa@gmail.com>

	* configure.in: Added 'gl' to ALL_LINGUAS.

2005-07-16  Pawan Chitrakar  <pawan@nplinux.org>

	* configure.in: Added ne in ALL_LINGUAS

2005-07-12  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in:
	Downgrade minimal mozilla version to 1.7 again, was accidentally
        not changed when copying the rest of the configure changes
	from Epiphany.
		
2005-07-12  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in:
	Update gecko configure checks to also detect mozilla trunk
	which is now named 'seamonkey'.

2005-06-19  Mikael Hallendal  <micke@imendio.com>

	* src/dh-gecko-utils.cpp:
	- Improve build against various mozilla-derivates.
	- Patch from Peter.
	- Fixes bug #158456.

2005-06-08  Alexander Shopov  <ash@contact.bg>

	* configure.in: Added "bg" (Bulgarian) to ALL_LINGUAS

2005-05-17  Christian Persch  <chpe@cvs.gnome.org>

	* src/dh-gecko-utils.cpp:
	- Use pango API to split font string. Fixes bug #304428.

2005-05-08  Mikael Hallendal  <micke@imendio.com>

	* Release 0.10

2005-05-08  Mikael Hallendal  <micke@imendio.com>

	* contrib/Makefile.am:
	* src/dh-profile.c:
	* src/dh-profile.h:
	* src/test-profile.c:
	- Removed, half cooked code that won't be developed :)

2005-05-06  Mikael Hallendal  <micke@imendio.com>

	* src/dh-gecko-utils.cpp: 
	- Fixed memory leak, bug #302866
	- Patch from Paolo Borelli

2005-04-14  Ray Strode  <rstrode@redhat.com>

	* src/dh-keyword-model.c: (keyword_model_get_iter),
	(keyword_model_get_path):
	- Fixes bug #166013
	- devhelp's keyword_model_get_path function was incorrectly determining
	  the index of the tree model iterator's node in a list

2005-04-06  Christian Persch  <chpe@cvs.gnome.org>

	* src/dh-gecko-utils.cpp:

	Fix for mozilla API change. Fixes bug #172820.

2005-04-05  Richard Hult  <richard@imendio.com>

	* src/bacon-message-connection.c: Update.

	* src/dh-main.c: (window_get_is_on_current_workspace),
	(window_present): Fix window presentation.
	(main): Set application name.
	* src/dh-window.c: Fix coding style.
	(window_activate_about): Fix the about box: Johan's email address,
	don't put up an empty documenters' tab.

2005-04-01  Steve Murphy  <murf@e-tools.com>

        * configure.in: Added "rw" to ALL_LINGUAS.

2005-03-25  Mikael Hallendal  <micke@imendio.com>

	* src/dh-main.c: (devhelp_init_i18n), (main):
	- Setup i18n stuff which happened to get lost in the patch.

2005-03-25  Kristof Vansant  <de_lupus@pandora.be>

	reviewed by: Mikael Hallendal

	* autogen.sh:
	* configure.in:
	- Depend on GTK+ 2.6
	- Remove dependency on libgnome(ui).
	* src/dh-html.c:
	* src/dh-keyword-model.c:
	* src/dh-main.c: (main):
	* src/dh-parser.c:
	* src/dh-search.c:
	* src/dh-util.c: (dh_dot_dir):
	* src/dh-window.c: (window_activate_about):
	- Use GTK+ for about box instead of libgnomeui.
	- Fixed #167213.

2004-12-01  Mikael Hallendal  <micke@imendio.com>

	* src/dh-html.c: 
	(html_child_grab_focus_cb), (html_child_add_cb),
	(html_child_remove_cb), (html_init):
	- Patch from Tommi Komulainen to avoid the HTML widget from stealing
	  focus after loading a page (taken from Galeon).

2004-11-25  Christoffer Olsen  <co@deworks.net>

	* configure.in: Added devhelp.desktop.in to AC_OUTPUT
	* devhelp.desktop.in: Moved to devhelp.desktop.in.in
	* devhelp.desktop.in.in: Added Bugzilla headers
	* po/POTFILES.in: Now references devhelp.desktop.in.in instead

	- Added Bug Buddy autocompletion support, filing bugs should
	now work magically.

2004-11-18  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in:	Remove some unnecessary checks.
	* src/dh-gecko-utils.cpp: Make it build with latest mozilla trunk.
	Fixes bug #158619.

2004-11-16  Mikael Hallendal  <micke@imendio.com>

	* contrib/CHM_HTB2devhelp.README: José Fonseca, Bug #133110
	* contrib/README:
	* contrib/bulkman.pl:  Marc Britten, Bug #144917
	* contrib/texi2devhelp.sh: Tobias Gruetzmacher, Bug #138847
        * contrib/Makefile.am: Added
        * configure.in:
        * Makefile.am
        - Added user contributed conversion scripts.

2004-10-22  Mikael Hallendal  <micke@imendio.com>

	* Release 0.9.3

	* configure.in: Bumped version 
        * NEWS: Updated for 0.9.3

2004-10-21  Richard Hult  <richard@imendio.com>

	* src/dh-html.c (dh_html_open_uri): Fix compiler warning.

2004-10-21  Mikael Hallendal  <micke@imendio.com>

	* configure.in:
	* src/Makefile.am:
	* src/dh-gecko-utils.cpp:
	* src/dh-gecko-utils.h:
	* src/dh-html.c: (html_init):
	* src/dh-main.c: (main):
	- Copied and pasted cluelesly from Epiphany, seems to use the correct
	  theme for scrollbars now at least...

2004-10-21  Mikael Hallendal  <micke@imendio.com>

	* src/dh-gecko-utils.cpp:
	* src/dh-gecko-utils.h:
	* src/dh-html.c: (html_init):
        - Set font unit to pt for gecko widget.

2004-10-06  Christian Persch  <chpe@cvs.gnome.org>

	* Makefile.am:
	* configure.in:
	* src/.cvsignore:
	* src/Makefile.am:
	* src/dh-main.c: (main):
	R devhelp.in: Get rid of the startup script. Fixes bug #154152.

2004-10-05  Mikael Hallendal  <micke@imendio.com>

	* src/*.[ch]:
	- s/Imendio HB/Imendio AB/

2004-09-30  Christian Persch  <chpe@cvs.gnome.org>

	* configure.in: Enable compilation against firefox' gtkmozembed library.
	  Fixes bug #153999.

2004-09-27  Mikael Hallendal  <micke@imendio.com>

	* Release 0.9.2
	
	* NEWS: Updated for 0.9.2
	* configure.in: Bumped version to 0.9.2

2004-09-27  Nickolay V. Shmyrev  <nshmyrev@yandex.ru>

	* src/dh-keyword-model.c: (dh_keyword_model_filter):
        - Support searching for sub strings "gtk new" would find all functions
          including both gtk and new.

2004-09-19  Abel Cheung  <maddog@linuxhall.org>

	* configure.in: Added "mk" to ALL_LINGUAS.

2004-09-09  Ankit Patel <ankit@redhat.com>

	* configure.in: Add 'gu' (Gujarati) to ALL_LINGUAS.

2004-09-02  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add «nb» to ALL_LINGUAS.

2004-08-09  Mikael Hallendal  <micke@imendio.com>

	* src/Makefile.am: Added bacon-message-connection.[ch]
	* src/bacon-message-connection.[ch]: Copied from Hadess.
	* src/dh-main.c: Rewritten to use bacon-message-connection instead of 
	  own hack for unique app.

2004-08-05  Richard Hult  <richard@imendio.com>

	* src/dh-window.c: Add accelerators for back and forward. Patch
	from Johan Svedberg <johan@svedberg.pp.se>.

2004-07-25  Mikael Hallendal  <micke@imendio.com>

	* Release 0.9.1
	
	* Makefile.am: Don't try to add spec file to tarball
	* NEWS: Added updated translations

2004-07-25  Mikael Hallendal  <micke@imendio.com>

	* NEWS: Updated for 0.9.1
	* configure.in: Bumped to 0.9.1 and removed the spec-file.
	* devhelp.spec.in: Removed.

2004-07-25  Mikael Hallendal  <micke@imendio.com>

	* src/dh-window.c:
	(window_populate): Make sure that the paned isn't 0 wide.
	(window_restore_state): Make sure that the window isn't 0x0 pixels
	(dh_window_show): Make sure that the HTML view is realized before
	  trying to write HTML to it. Fixed bug #147343.

2004-07-02  Mikael Hallendal  <micke@imendio.com>

	* src/dh-base.c: (base_add_books):
	- Don't build and check for books "." and "..".
	- Patch from Russel Shaw.

2004-07-02  Mikael Hallendal  <micke@imendio.com>

	* src/dh-base.c: (base_init_books):
	- Read books from home directory first to always make sure that user 
	  installed documentation is shown if there are duplicates.

2004-05-18  Mikael Hallendal  <micke@imendio.com>

	* autogen.sh: Use automake 1.7

2004-05-06  Mikael Hallendal  <micke@imendio.com>

	* src/dh-keyword-model.c: (dh_keyword_model_filter):
	- If exact match is found, return it so that we can show it in the
	  HTML view. Patch by Marc Britten.

2004-04-30  Adam Weinberger  <adamw@gnome.org>

	* configure.in: Added en_CA to ALL_LINGUAS.

2004-04-30  Frederic Crozat  <fcrozat@mandrakesoft.com>

	* src/Makefile.am: Add mozilla main include directory,
	needed for Mozilla 1.7 (headers changed location).

2004-04-07  Christian Neumair  <chris@gnome-de.org>

	* autogen.sh: automake 1.8 is required, but error message suggested
	that automake 1.4 is required. Fixed that.

2004-04-03  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-03-17  Mikael Hallendal  <micke@imendio.com>

	* devhelp.schemas.in:
	* src/dh-preferences.h:
	* src/dh-window.c: (window_init), (window_populate),
	(window_save_state), (window_restore_state), (dh_window_new):
	- Make the maximized stuff a boolean instead of storing window state.
	- Fixes #137532

2004-03-17  Mikael Hallendal  <micke@imendio.com>

	* devhelp.schemas.in:
	* src/dh-preferences.h:
	* src/dh-window.c: 
	- Save state regarding maximized or not.
	- Patch by Paolo Borelli.

2004-03-17  Mikael Hallendal  <micke@imendio.com>

	* devhelp.in: 
	- Export LD_LIBRARY_PATH, thanks Michel Galle for reporting.

2004-03-17  Mikael Hallendal  <micke@imendio.com>

	* Release 0.9

	* NEWS: Updated for 0.9
	* configure.in: Bumped version to 0.9
	* src/Makefile.am: Fixed the genmarshal-crap

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* src/dh-base.c:
	* src/dh-html.c:
	* src/dh-window.c:
	- Make the HTML view white for now.

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* src/Makefile.am:
	* src/dh-history.c:
	* src/dh-history.h:
	- Removed
	* src/dh-html.c:
	- Added support for gecko's builtin history list.
	* src/dh-window.c:
	- Make history work again.

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* src/dh-preferences.c:
	* ui/devhelp.glade:
	- Really make the dialog transient.
	* ui/window.ui: Hide Copy for now.

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* autogen.sh: Require automake 1.8

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* Makefile.am: Added schemas
	* configure.in: Added gconf tools
	* devhelp.schemas.in: Added
	* src/dh-gecko-utils.cpp:
	* src/dh-gecko-utils.h: 
	- Split a gtk font string
	* src/dh-html.c: (html_init): Don't set the font here.
	* src/dh-preferences.c:
	- Set fonts, supports using system fonts or override for devhelp.
	- Close button works
	- Setting transient to main window.
	* src/dh-window.c:
	- Set prefs window to be transient.
	* ui/devhelp.glade: Added Use system default button to prefs dialog.

2004-03-16  Mikael Hallendal  <micke@imendio.com>

	* configure.in: Added libglade dependency
	* src/Makefile.am: Added includes and dh-preferences.[ch]
	* src/dh-base.c: (dh_base_new): initialize preferences
	* src/dh-gecko-utils.cpp: 
	- fixed set_font to work with both variable and fixed font width.
	* src/dh-preferences.c: 
	* src/dh-preferences.h:
	- Added, starting of a preference dialog and gconf storage.
	* src/dh-util.c:
	(tagify_bold_labels), (get_glade_file),
	(dh_glade_get_file), (dh_glade_connect): Copied from Gossip.
	* src/dh-window.c:
	(window_populate), (window_activate_quit),
	(window_activate_copy), (window_activate_preferences),
	(window_activate_back), (window_activate_forward),
	(window_activate_about): 
	- Splitted out action callbacks into their own functions instead of 
	  one.
	* ui/Makefile.am: Install glade
	* ui/devhelp.glade: Glade for preferences dialog
	* ui/window.ui: Added an edit menu.

2004-03-15  Mikael Hallendal  <micke@imendio.com>

	* Makefile.am: Added devhelp.in
	* autogen.sh: Updated from Gossip
	* configure.in: Removed html widget check, always use Gecko
	* devhelp.in: New script that sets MOZILLA_HOME
	* src/Makefile.am: Updated for file changes
	* src/dh-gecko-utils.cpp: Added, based on patch for yelp by Marco.
	* src/dh-gecko-utils.h: same
	* src/dh-html-gtkhtml2.c: Removed
	* src/dh-html-mozilla.c: Removed
	* src/dh-html.c: 
	* src/dh-html.h:
	- Only support Gecko now.
	* src/dh-marshal.list: Added marshaller for title-changed
	* src/dh-util.c:
	* src/dh-util.h:
	(dh_dot_dir): Added
	* src/dh-window.c: (window_populate): Don't put the html widget in a 
	  scrolled window, gecko provides it's own.

2004-03-04  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "pa" for Punjabi to ALL_LINGUAS.

2004-02-14  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (window_populate): Ensure update to avoid
	jumping ui.
	(window_init): Set translation domain to get translation working
	with the ui manager.

2004-02-13  Mikael Hallendal  <micke@imendio.com>

	* configure.in: bumped to 0.8.99
	* libdevhelp-1.0.pc.in: Fixed the correct library name

2004-02-13  Mikael Hallendal  <micke@imendio.com>

	* devhelp.spec.in: Fixed to actually work
	
	* src/Makefile.am: Version library

2004-02-13  Mikael Hallendal  <micke@imendio.com>

	* configure.in: Fixed compile warning
	
	* devhelp.spec.in: Updated to include the devel package
	
	* libdevhelp-1.0.pc.in: Fixed paths
	
	* src/Makefile.am: Install headers and library in the correct places.

2004-02-13  Mikael Hallendal  <micke@imendio.com>

	* Makefile.am: 
	* configure.in:
	* libdevhelp-1.0.pc.in:
	- Moved the pc file and renamed it.
	
	* NEWS:
	- Updated for 0.8
	
	* src/Makefile.am:
	* src/devhelp.pc.in:
	- Removed this pc file.

2004-02-13  Naba Kumar  <naba@gnome.org>
 
	* configure.in: 
	- Bumped version to 0.8
	- Installs libdevhelp
	
	* src/Makefile.am, src/.cvsignore, (new) src/devhelp.pc.in:
	- Installs libdevhelp header files and pkgconfig file, so that 
	  external programs can also use libdevhelp.

2004-02-01  Robert Sedak  <robert.sedak@sk.htnet.hr>

	* configure.in: Added "hr" (Croatian) to ALL_LINGUAS. 

2004-01-13  Laurent Dhima  <laurenti@alblinux.net>

	* configure.in: Added "sq" to ALL_LINGUAS.

2004-01-05  Mikael Hallendal  <micke@imendio.com>

	* configure.in: 
	- Don't try to output removed Makefiles in libegg/*
	- Output .desktop and .keys files.

2004-01-04  Ross Burton  <ross@burtonini.com>

	* configure.in:
	Depend on GTK+ 2.3.1.
	
	* Makefile.am:
	* libegg/:
	Remove libegg!

	* src/dh-window.c:
	* ui/window.ui:
	* src/Makefile.am:
	Switch from EggAction to GtkAction.

2003-12-14  Jordi Mallach  <jordi@sindominio.net>

	* configure.in (ALL_LINGUAS): Added "ca" (Catalan).

2003-09-15  Fatih Demir <kabalak@gtranslator.org>

	* configure.in: Added "tr" (Turkish) to the languages' list.

2003-06-29  Mikael Hallendal  <micke@imendio.com>

	* src/dh-main.c: include string.h, fixes warning on FreeBSD.

2003-06-29  Richard Hult  <richard@imendio.com>

	* misc/devhelp.el: 
	* misc/devhelp.vim: Add comment about -g. 

2003-06-29  Mikael Hallendal  <micke@imendio.com>

        * NEWS: Updated, missed this in the 0.7 tarball.

        * Release 0.7

	* configure.in: Bumped to 0.7
	
	* devhelp.spec.in: Updated for 0.7 and new web site.

2003-06-29  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (dh_window_new): Don't make the size relative to
	the resolution, that didn't work out very well.

2003-06-28  Mikael Hallendal  <micke@imendio.com>

	* src/dh-window.c: 
	* (window_activate_action): Added link to project page in about dialog.

2003-06-28  Richard Hult  <richard@imendio.com>

	* src/dh-base.c (base_init_books): Use g_get_home_dir and
	g_build_filename.
	(base_sort_books, book_sort_func): Sort the toplevel list of
	books. Fixes bug #111535.

	* src/*.c: Clean up includes.

	* src/dh-main.c: Revert accidental commit. 

	* src/dh-window.c (dh_window_new): s/gtk_type_new/g_object_new/.

	* src/dh-html-gtkhtml2.c (dh_html_new): s/DevHelp/Devhelp/. Also
	remove the part about shift-arrows, since that doesn't work and
	kind of crack. Also specify the encoding to be UTF-8. 

2003-06-27  Richard Hult  <richard@imendio.com>

	* src/dh-search.c (search_entry_key_press_event_cb): Apply a
	variation of a patch from Mike Hearn to go to the first hit when
	enter is pressed. Fixes bug #114558.
	(search_tree_button_press_cb, dh_search_new): Handle clicks in the
	tree, fixes bug #114567. Patch from Mike Hearn
	<mike@theoretic.com>.

	* src/dh-window.c (window_populate, window_switch_page_after_cb)
	(window_switch_page_cb): Hack to workaround weird selection
	problem with the book tree.

	* devhelp.keys.in: 
	* devhelp.desktop.in: Fix name.

	* src/dh-parser.c (parser_start_node_cb): Fix bug #113065, make
	messages more generic to help translators.

	* libegg/menu/egg-action.c: Patch to get translated menus.

	* libegg/menu/egg-menu-merge.c: Disable some debug output.

	* src/dh-window.c (window_activate_action): Apply a variant of the
	patch from bug #114849, by Steve Chaplin to fix the bug.

	* libegg/: Update eggmenu to fix bug #107390, follow toolbar/menu
	preferences.
	
2003-06-27  Richard Hult  <richard@imendio.com>

	* src/dh-window.c (window_activate_action): Set the name to
	"Devhelp" instead of using PACKAGE.
	Use stock item for Help->About.

	* src/dh-html-gtkhtml2.c (html_reader_thread): Don't use g_strdup,
	use g_memdup and copy the number of bytes we actually read. Fixes
	read of uninitialized data.

	* misc/Makefile.am: Dist the files here.
	* Makefile.am (SUBDIRS): 
	* configure.in: Add misc directory.

	* src/dh-main.c (main): Add --geometry to options.

	* src/dh-window.c (window_populate): Set border widths, and use
	SHADOW_IN.
	(dh_window_new): Try to set a better default size and use
	--geometry if that is available.

	* src/dh-search.c (search_finalize): Chain up.
	(search_init): Set spacing.
	(dh_search_new): Set border width, shorten the search label.

2003-06-27  Richard Hult  <richard@imendio.com>

	* src/dh-search.c (dh_search_grab_focus): Add.

	* src/dh-window.c (window_init, window_key_press_event_cb): Make
	ctrl-l focus the search entry if that page is visible.
	
2003-06-24  Mikael Hallendal  <micke@imendio.com>

	* src/dh-parser.c: (dh_parse_file): 
	- Fixed memory leak found when playing with gnome-vfs module.

2003-06-13  Mikael Hallendal <micke@imendio.com>

        * *: Updated mine and Richard's contact info.

2003-05-28  Stanislav Brabec  <sbrabec@suse.cz>

	* libegg/toolbar/eggtoolitem.c: Fixed implicit declaration
	(#113841).

2003-05-12  Ross Burton  <ross@burtonini.com>

	* src/dh-base.c: Print an error message instead of ignoring errors.

2003-05-12  Ross Burton  <ross@burtonini.com>

	* README: New and improved README file.

2003-05-09  Ross Burton  <ross@burtonini.com>

	* src/dh-html-gtkhtml2.c: Fix a cast and dereference which should
	have been updated long ago. Fixes a rare crasher.

2003-05-07  Danilo Šegan  <dsegan@gmx.net>

	* configure.in: Added "sr" and "sr@Latn" to ALL_LINGUAS.

2003-04-24  Mikael Hallendal <micke@codefactory.se>

        * Release 0.6.0

        * Makefile.am: Added mime_DATA to EXTRA_DIST.

        * configure.in: Updated to version 0.6.0
	
	* NEWS: Updated with news for version 0.6.0

2003-04-09  Guntupalli Karunakar  <karunakar@freedomink.org>

	* configure.in: Added "hi" to ALL_LINGUAS

2003-04-05  Samúel Jón Gunnarsson <sammi@techattack.nu>

	* configure.in: Added "is" to ALL_LINGUAS

2003-03-14  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am: fix building of marshals.

2003-03-13  Ross Burton  <ross@burtonini.com>

	* src/dh-window.c: Removed dead code. Will add it again in the
	correct location later.

	* src/dh-parser.c: Display the line and column numbers in error
	messages.

2003-03-13  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-marshal.list: updated

	* src/dh-book-tree.c: use dh_marshals
	* src/dh-html-mozilla.c: same
	* src/dh-search.c: same
	* src/dh-html-gtkhtml2.c: same
	* src/dh-history.c: same

2003-03-12  Ross Burton  <ross@burtonini.com>

	* devhelp.keys.in, devhelp.mime: Added gnome-vfs MIME files to map
	.devhelp to application/x-devhelp.

	* Makefile.am: Cleanup, and install the MIME files.

	* devhelp.schemas: Removed, not used any more.

	* debian/: Removed, very out of date.

2003-03-07  Ross Burton  <ross@burtonini.com>

	* AUTHORS: Add myself.

	* src/dh-window.c: Ditto

	* src/dh-base.c (base_init_books): Scan $PREFIX/share/devhelp/books
	and ~/.devhelp/books (instead of ~/.devhelp2).

	* src/dh-main.c (dh_create_socket): Remove an unused variable.

	* src/dh-parser.c: Add lots and lots of error messages. Also use
	the non-deprecated GIOChannel read API.

	* src/dh-base.c (base_add_books): Pass a GError to the parse
	functions, and display warnings if it gets set. Will give this a
	nice UI at some point.

	* src/dh-error.h: Added an "internal error" error message, for
	when constructing parsers etc fails.

	* src/.cvsignore: Update for the new executable name.

2003-03-06  Gil "Dolfin" Osher <dolfin@rpg.org.il>

	* configure.in: Added "he" to ALL_LINGUAS.

2003-03-04  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (EXTRA_DIST): 
	- Fixes #107536 reported by Tommi Komulainen.
	- added dh-html-mozilla.c and dh-html-gtkhtml2.c to EXTRA_DIST.

2003-03-03  Ross Burton  <ross@burtonini.com>

	* configure.in: Add descriptions to the AC_DEFINE calls.

	* acconfig.h: Remove thanks to above change.

2003-03-03  Ross Burton  <ross@burtonini.com>

	* src/dh-main.c: Fix the prototype on dh_client_data_cb, and
	remove the GTK+ 2.2.0 check as that is assumed.

2003-03-03  Mikael Hallendal  <micke@codefactory.se>

	* devhelp.desktop.in (Exec): changed name to devhelp

2003-03-03  Ross Burton  <ross@burtonini.com>

	* src/dh-main.c: Add a "raise" event to the remote protocol, so
	that the existing instance can be shown.

	* devhelp.desktop.in: We support startup notification!

2003-03-02  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "ko" to ALL_LINGUAS.

2003-03-02  Mikael Hallendal  <micke@codefactory.se>

	* Relase 0.5

	* NEWS: updated for 0.5

	* configure.in: depend on GNOME 2.2

	* src/Makefile.am: Installed as binary devhelp.
	
	* devhelp.spec.in: fixes.

	* configure.in: fixed deps.

2003-03-02  Ross Burton  <ross@burtonini.com>

	* configure.in, acconfig.h: Added a zlib check.

	* src/dh-base.c: Also check for .devhelp.gz files, if we have zlib.

	* src/dh-parser.h: Added dh_parse_gz_file(), for parsing gzipped
	.devhelp files.

	* src/dh-parser.c: Implement dh_parse_gz_file().

2003-03-02  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (INCLUDES): fix dist-check

	* libegg/toolbar/Makefile.am (INCLUDES): fix dist-check

	* configure.in: export EGG_CFLAGS, EGG_LIBS

2003-03-01  Richard Hult  <rhult@codefactory.se>

	* src/dh-main.c (dh_get_socket_filename, dh_create_socket) 
	(dh_try_to_connect): Fix path.

2003-02-25  Yuriy Syrota  <rasta renome.rovno.ua>

	* configure.in: Added "uk" (Ukrainian) to ALL_LINGUAS.

2003-02-24  Mikael Hallendal  <micke@codefactory.se>

	* libegg/toolbar/Makefile.am: dist-check fixes.

	* dtd/Makefile.am (dtddir): removed all the unused dtd-files from
	  dtd_DATA 

	* configure.in: bumped version to 0.5, soon gonna release, I
	  promise

	* Makefile.am (EXTRA_DIST): don't include idl/* in EXTRA_DIST.

2003-02-19  James Henstridge  <james@daa.com.au>

	* src/dh-html-gtkhtml2.c (html_init): put the html widget in a
	scrolled window, so that the GtkHTML2 view will be scrollable.
	(dh_html_get_widget): return the scrolled window instead of the
	html widget.

2003-02-19  Dmitry G. Mastrukov  <dmitry@taurussoft.org>

	* configure.in: Added Belarusian to ALL_LINGUAS.

2003-02-18  Ross Burton  <ross@burtonini.com>

	* src/dh-parser.c (parser_end_node_cb): Reverse the nodes which
	were backwards, as they were appended for speed.

	* src/dh-base.c (base_init_books): Look in
	/usr/share/gtk-doc/html/ and ~/.devhelp2/books/ for books.

2003-02-17  Ross Burton  <ross@burtonini.com>	

	* src/dh-base.c (base_init_books): Search DEVHELP_SEARCH_PATH for
	books.

	* src/dh-html-gtkhtml2.c (html_reader_thread): Return NULLs.

	* src/dh-main.c: Remove unused variables and add more includes.

	* src/dh-base.c: Ditto.

	* src/dh-base.h: Rename a method so it matches the implementation.

2003-02-15  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-window.c:
	- Fixed a number of compile warnings.
	(window_activate_action): 
	- actually do something when forward/back are pressed.

	* configure.in: added warnings

	* src/dh-search.c (search_filter_idle): 
	- Emit link selected if exact match was returned form keyword
	  model.

	* src/dh-keyword-model.c (dh_keyword_model_filter): 
	- Return Link if exact hit (one item in hit list).

	* src/dh-window.c: 
	- updated to changes when DhHtml is no longer a subclass of
	  HtmlView.

	* src/dh-html-mozilla.c: 
	- added
	- used when compiled with --with-html-widget=mozilla

	* src/dh-html-gtkhtml2.c: 
	- The old dh-html.c
	- Don't subclass HtmlView
	- Added dh_html_get_widget
	- This is used if not compiled with --with-html-widget=mozilla

	* configure.in: added support to compile
	  --with-html-widget=mozilla (works great with this!)

	* src/dh-search.c (search_entry_key_press_event_cb): 
	- Added, don't move focus when hitting tab in search entry.
	- Move to hit list when Ctrl+tab.

2003-02-13  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-book-tree.c (book_tree_insert_node): speeeeeeeeeeedup!

	* src/dh-parser.[ch]: Added, new GMarkup-based parser.

	* src/dh-book.[ch]:
	* src/dh-book-old.[ch]: Removed.

	* src/dh-base.c: 
	- initiate the book tree and keywords here instead of in the
	  profile. (will probably be some kind of profiles later on).
	(base_init_books): added.
	(base_add_books): added.

	* src/Makefile.am (libdevhelp2_la_SOURCES): 
	- updated for removed/added files.
	- Don't build the test-profile binary (disabled profiles for now).

2003-02-09  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "kn" to ALL_LINGUAS.

2003-02-02  Daniel Yacob  <locales@geez.org>

	* configure.in: Added Amharic (am) to ALL_LINGUAS

2003-02-01  Richard Hult  <rhult@codefactory.se>

	* src/dh-main.c (main): Don't create a base and window if we're
	only contacting an already running instance.

	* src/dh-book-old.c (dh_book_old_read): Fix style.
	(book_old_validate): Zero out the validation context before using
	it to silence valgrind.

	* dtd/devhelp-1.dtd: Add author property to book element.

	* src/dh-window.c (window_populate): Fix typo in error message
	dialog.

2003-01-31  Richard Hult  <rhult@codefactory.se>

	* src/dh-book-tree.c (book_tree_finalize): Chain up.

	* src/dh-window.c (window_populate): Fix style.

	* src/dh-book-old.c (validating_error_cb): Fix style.
	(book_old_get_base_uri): Fix leaks.

	* src/dh-base.c (base_class_init): Use ..._peek_parent.

	* src/dh-profile.c (profile_finalize): Chain up and rename from
	profile_destroy.
	(profile_class_init): Get parent class.

	* src/dh-window.c (dh_window_get_type): Fix typo in the type name
	argument to g_type_register_static.
	(window_finalize): Chain up.
	(window_class_init): Use g_type_class_peek_parent instead of
	gtk_type_class.

	* src/dh-profile.c (dh_profile_open): Fix style and plug leak.

2003-01-27  Ross Burton  <ross@burtonini.com>

	* src/dh-book-old.c: Display the reason for the validation
	failure, and make the warnings clearer.

	* src/dh-profile.c (dh_profile_open): Use a new GError for the
	parser, and save the error messages returning them in the original
	error. Removes the GError re-use warnings.

	* src/dh-window.c (window_populate): Display the error message
	returned from opening the profile in a pretty dialog.

	* src/dh-window.c (dh_window_new): Set the window title.

2002-12-09  Miloslav Trmac  <mitr@volny.cz>

	* configure.in: Added cs (Czech) to ALL_LINGUAS

2002-11-09  Mikael Hallendal  <micke@codefactory.se>

	* dtd/devhelp-1.dtd: added version attribute to book element.

	* src/dh-html.c (dh_html_open_uri): try to open the URI here
	  before starting a thread. Only start thread if the file opening 
	  was succesful.

2002-11-09  Richard Hult  <rhult@codefactory.se>

	* src/dh-base.c (base_window_finalized_cb): Use gtk_main_quit
	instead of bonobo_main_quit.

2002-11-09  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-book-old.c (dh_book_old_read): set correct base url.

	* src/*.[ch]: Removed the author part of the header. Pointless
	  information to now who started the file, look at the Copyright
	  to see who actually wrote the code.

	* src/dh-window.c (window_populate): pass the error argument to
	  dh_profile.

	* src/dh-profile.c: 
	(dh_profile_open): handle looping through the books and call
	  dh_book_read on each of them.

	* src/dh-main.c: Copyright-cleanups.

	* src/dh-error.[ch]: Added, needed to provide better error
	  messages to the user.

	* src/dh-book.[ch]: 
	- Added, this will handle parsing of Devhelp2 books. 
	- Uses libgsf for reading zip files.
	- Currently only support the old book format which is passed to
	  dh-book-old.c

	* src/dh-book-old.[ch]: Renamed from dh-book-parser.[ch].
	- Using libgsf now.
	- Validates the books before trying to read it.
	
	* src/Makefile.am:
	(INCLUDES): 
	- include DTD_DIR
	(libdevhelp2_la_SOURCES): 
	- Added dh-book.[ch], dh-error.[ch]
	- Renamed dh-book-parser.[ch] -> dh-book-old.[ch]

	* dtd/*: added

	* configure.in: 
	- cleaned up the compile flags somewhat
	- added dtd/Makefile to AC_OUTPUT

	* Makefile.am (SUBDIRS): added dtd

2002-11-09  Richard Hult  <rhult@codefactory.se>

	* src/dh-main.c (dh_client_data_cb): Present the window when doing
	a search.

2002-11-08  Richard Hult  <rhult@codefactory.se>

	* src/dh-main.c: Put username in socket filename.
	
	* src/dh-main.c (main): Reimplement searching in an already
	  running devhelp process and add a -q option to quit the running 
	  process.

	* src/dh-base.c (dh_base_new_window): Comment out connection to
	  new_window_requested signal.

2002-11-08  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-keyword-model.c: added a max number of hits, makes the
	  searching snappier.

	* src/dh-html.c (html_get_full_uri): new function, used to check
	  if url is relative and try to create a full uri from it.
	(html_url_requested_cb): implemented, fixes #92179

2002-11-04  Richard Hult  <rhult@codefactory.se>

	* src/dh-window.c (dh_window_search): Switch to the search page
	when a search is done.

2002-11-04  Mikael Hallendal  <micke@codefactory.se>

	* configure.in: style fixes, thanks rhult.

	* hack-macros/*: Removed, not used anymore.

2002-11-04  Richard Hult  <rhult@codefactory.se>

	* src/dh-window.c (window_merge_add_widget): Remove debug.
	(window_init): Set accel group on window.

	* src/dh-search.c (dh_search_new): Expand and fill when packing
	  search entry.

	* src/dh-window.c (window_populate): HIGify, i.e. don't use
	  mnemonics for notebook page tabs.

2002-11-04  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-window.c: 
	- removed unused code.
	- set history buttons unsensitive by default
	- connect to history signals.
	- show the tree by default

2002-11-03  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-util.[ch]: 
	(dh_util_url_split):
	(dh_util_url_get_book_name):
	(dh_util_url_get_un_depth):
	(dh_util_url_get_anchor):
	(dh_util_uri_get_anchor):
	-Removed unused functions.
	
	* src/Makefile.am: Fix building of dh-marshal.[ch]

	* src/dh-window.c (dh_window_search): silent warning

	* ui/GNOME_DevHelp.ui:
	* ui/GNOME_DevHelp_Controller.ui:
	- Removed, not using BonoboUI anymore.

	* ui/window.ui: EggMenu UI file. 
	- Added and now includes all the UI-stuff.

	* ui/Makefile.am: Updated to remove the BonoboUI stuff and add the
	  EggMenu stuff.

	* src/dh-main.c: 
	- Needs to locate already running process and ask it to open a new
	  window instead of always start a new process. 
	- Removed all the bonobo deps.

	* src/dh-window.[ch]: Main window
	- Now using EggMenu instead of BonoboUI.
	- Still needs some work and attaching accellerators and such.
	- Removed all the bonobo dependencies.
	
	* src/dh-util.c (dh_util_uri_relative_new): 
	- Don't use GnomeVFSURI.

	* src/dh-search.[ch]: Search entry + hitlist
	- Currently doesn't export the different widgets in the API.
	- A vbox with an entry and a tree view in it.
	- link-selected signal added.
	- No more function-database deps.
	- Rewritten to not use GtkCList any more.
	- Still needs some work to speed it up.

	* src/dh-proile.[ch]: The beginning of a profile system.
	- These will make it possible to create several profiles and
	  choose which books should be part of each profile.
	- Not finished yet and currently there is only a default profile
	  which does the same as the old Devhelp.

	* src/dh-html.[ch]: The HTML rendering widget. 
	- Renamed from dh-view.

	* src/dh-book-tree.[ch]: The tree widget showing viewable books. 
	- Removed dependency on dh-bookshelf/dh-book and instead just use
	  a GNode tree for creating the GtkTreeView.
	- Renamed the uri-selected signal to link-selected.
	- The tree icons is now located in $prefix/share/devhelp/images.
	
	* src/dh-book-parser.[ch]: Reads the books and inserts them into a
	  GNode tree and a keyword GList. This will later be replaced by
	  a SAX-parser for the new book format.

	* src/dh-base.[ch]: Starts up Devhelp and reads the different
	  books. Also keeping track of open windows.

	* src/dh-link.[ch]: Using this internally instead of book-nodes
	  which was kinda stupid. Also using strings for URI's instead of
	  GnomeVFSURI.
	
	* src/dh-keyword-model.[ch]: Added, taken from Yelp and is used
	  for searching in the search tree. 

	* src/book-node.[ch]:
	* src/book.[ch]:
	* src/bookmark-manager.[ch]: 
	* src/dh-book.h: 
	* src/dh-bookshelf.[ch]:
	* src/dh-controller.[ch]:
	* src/dh-index-model.[ch]:
	* src/dh-view.[ch]:
	* src/function-database.[ch]:
	* src/help-browser.[ch]:
	- Removed, these have been replaced in a much saner way.

	* src/Makefile.am: 
	- Updated to use the right files after the cleanup.
	- Don't build idl
	- Don't generate .server file

	* src/GNOME_DevHelp.server.in.in: Removed, not used anymore.

	* libegg/.cvsignore: silence cvs.

	* idl/*: removed. Not used anymore.

	* configure.in: 
	- Cleaned up the configure script that had lots of left-overs from
	  the GNOME 1 version.  
	- Make full use of pkg-config

	* Makefile.am (SUBDIRS): removed idl

2002-10-23  Richard Hult  <rhult@codefactory.se>

	* src/book.c (book_parse): Don't set the base url to an empty
	string, use the parent uri instead.
	(book_set_base_url): Don't let url be NULL or an empty string.

	* src/dh-view.c (view_reader_thread): Keep the len we got from
	gnome-vfs so we don't need to do lots of strlen on 16k strings.
	(view_idle_check_queue): ...and use it here.

2002-10-23  Mikael Hallendal  <micke@codefactory.se>

	* autogen.sh: don't use gnome-common.

2002-10-16  Ross Burton  <ross@burtonini.com>

	* Makefile.am (Develdir): Use the new location for .desktop files.

	* devhelp.desktop.in: Add Encoding and Categories tags.

2002-10-01  Peteris Krisjanis <peteris.krisjanis@os.lv>

	* configure.in: Added Latvian (lv) to ALL_LINGUAS

2002-09-19  Christian Neumair  <chris@gnome-de.org>

	* ui/devhelp2.glade: Made info_dialog HIG-compliant.

2002-08-31  James Henstridge  <james@daa.com.au>

	* src/dh-window.c (window_populate): set scrolled window policy to
	automatic, so scrollbars don't display if not needed.

2002-08-28  Gustavo Noronha Silva  <kov@debian.org>

	* configure.in (ALL_LINGUAS): new translation, pt_BR,
	thanks to "Alexandre Folle de Menezes" <afmenez@terra.com.br>

2002-08-20  James Henstridge  <james@daa.com.au>

	* devhelp.desktop.in (Exec): fix up desktop file.

2002-08-12  Mikael Hallendal  <micke@codefactory.se>

	* src/dh-window.c (window_cmd_about_cb): cleaned up about dialog.

	* src/dh-controller.c: book-index -> dh-book-tree.

	* src/dh-book-parser.[ch]: Added

	* src/dh-profile.[ch]: Added
	
	* src/dh-book-tree.[ch]: 
	* src/book-index.[ch]: book-index.[ch] moved to dh-book-tree.[ch]

	* src/Makefile.am: 
	- book-index -> dh-book-tree.
	- added dh-book-parser.[ch]
	- added dh-profile.[ch]

	* idl/GNOME_DevHelp.idl: BookIndex -> BookTree

2002-08-08  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-controller.[ch]: changed to dh-controller.[ch]

	* src/devhelp-marshal.*: Changed to dh-marshal.*

	* src/devhelp-search.[ch]: Changed into dh-search.[ch]

	* src/util.[ch]: Changed into dh-util.[ch]

	* src/history.[ch]: Changed into dh-history.[ch]
	
	* src/devhelp-window.[ch]: Changed into dh-window.[ch]

	* src/devhelp-view.[ch]: Changed into dh-view.[ch]

	* src/dh-bookshelf.[ch]: 
	- Changed name from bookshelf.[ch]
	- Bookshelf -> DhBookshelf

	* src/Makefile.am:
	- Don't build install.[ch]
	- bookshelf.[ch] -> dh-bookshelf.[ch]

	* ui/GNOME_DevHelp_Controller.ui: removed book manager.

	* ui/GNOME_DevHelp.ui: removed zoom, view-sidebar, preferences.

	* src/devhelp-window.c: 
	- Removed the zoom-stuff, the preferences stuff. Gtkhtml2 now
	  follows theme settings.

	* src/devhelp-view.c:
	(view_idle_check_queue): don't grab focus. Doesn't work well with
	  the search entry.

	* src/Makefile.am: Don't build
	- bookmark-manager.[ch]
	- preferences.[ch]
	- preferences-dialog.[ch]

	* src/preferences.[ch]:
	* src/preferences-dialog.[ch]:
	- Removed
	
	* src/devhelp-window.c (cmd_about_cb): fixed jdahlin's email.

	* src/devhelp-view.c: 
	- Don't read with gnome_vfs_async. Read in a thread passing data
	  by a async queue. (same as in Yelp).
	- Work with anchor.
	- Probably leaking like **** while reading.

	* src/devhelp-controller.c (devhelp_controller_init): 
	- only connect to uri_selected once.

	* src/book.c (book_get_name_full): never return NULL. Fixes #84444

2002-07-30 Hasbullah Bin Pit <sebol@ikhlas.com>

	* configure.in: Added "ms" to LINGUAS for Malay.
        * po/ms.po: Added Malay translation.

2002-07-09  Wang Jian  <lark@linux.net.cn>

	* configure.in: Added "zh_CN" to LINGUAS for Simplified Chinese.

2002-05-18  Kjartan Maraas  <kmaraas@gnome.org>

	* ui/devhelp.glade2: Don't translate widget labels.
	
2002-05-08  Pablo Saratxaga  <pablo@mandrakesoft.com>

	* configure.in: Make ALL _LINGUAS in synch with files in po/ directory

2002-04-27  Mikael Hallendal  <micke@codefactory.se>

	* src/install.c (install_create_directories): added memleak-fix
	  from  Nils O. Selåsdal.

	* src/devhelp-view.c: moved debug-outputs into a debug-macro.

	* src/Makefile.am (GNOME_DevHelp.server.in): use correct directory
	  for library in server-file.

	* merged devhelp-gnome-2 into HEAD.

	* src/history.c (history_goto): 
	- added patch from Nils O. Selåsdal that limits history length to
	  20.
	
2002-04-26  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am:
 	- put private library in $(libdir)/devhelp-2
	- add -avoid-version -module to libdevhelp_la_LDFLAGS
	- Fixes #78495

	* src/devhelp-window.c (cmd_size_changed_cb): 
	- added patch from kov@debian.org to default to medium size. 
	  Fixes #78498

2002-04-26  Dave Camp  <dave@ximian.com>

	* idl/Makefile.am (idldir): Install the idl file.

	* Makefile.am: Include idl in the subdirs.
	* configure.in: Include idl in AC_OUTPUT.
	* src/Makefile.am: Move history.[ch] and books-dialog.[ch] into
	  libdevhelp2.la
	* src/book-index.c: 
	* src/book-index.h: Begin converting the book index to GtkTreeView.
	* ui/Makefile.am: Install the new book icons.
	* ui/book_closed.png:
	* ui/book_open.png:
	* ui/book_helpdoc.png: New pixmaps.

2002-03-07  Richard Hult  <rhult@codefactory.se>

	* src/main.c (main): Remove unnecessary init calls.
	Add back popt parsing.

	* src/devhelp-window.c (devhelp_window_new): Set window icon.

	* src/help-browser.c (impl_HelpBrowser_search): Use
	gtk_window_present to show the window.

	* src/devhelp-search.c (devhelp_search_complete_idle): Need to
	select first, then set position, otherwise the selection will be
	cleared.

	* configure.in: Remove obsolete GNOME_PLATFORM_GNOME_2.

	* src/function-database.c (fd_idle_search): Free the string result
	of the signal.

	* src/devhelp-search.c (devhelp_search_get_search_string_cb): Dup
	the string here or we are freeing internal gtk memory later.

	* src/*.c: Finish the half baked s/gtk_signal/g_signal/ job.

	* src/devhelp-window.c (dw_populate): Remove accelerator hack for
	notebook pages now that GTK+ has mnemonics.
	
2002-03-06  Richard Hult  <rhult@codefactory.se>

	* src/bookshelf.c (bookshelf_new): Remove more spew.

	* src/devhelp-window.c (cmd_about_cb): Please spell my name right
	at least ;) And remove silly debug spew.
	(devhelp_window_new): Use a proper name space for the gconf
	bonobo-ui key.

	* ui/GNOME_DevHelp_Controller.ui: Update stock name for GNOME 2. 

2002-01-04  Mikael Hallendal  <micke@codefactory.se>

	* src/main.c (activate_and_search): free ev.

2002-01-04  Johan Dahlin  <jdahlin@telia.com>

	* src/devhelp-window.c: fix dw_link_clicked prototype.

	* src/book-index.c (book_index_class_init): Only create uri-selected
	signal once. (doh)

2002-01-01  Johan Dahlin  <jdahlin@telia.com>

	Lots of files, ported to GNOME2
	
2001-12-02  Johan Dahlin  <jdahlin@telia.com>

	* configure.in (DEVHELP_VERSION): Bumped to 0.3

	* NEWS: Updated.

	* src/bookshelf.c (bookshelf_get_hidden_books): Remove unused code.

2001-12-02  Richard Hult  <rhult@codefactory.se>

	* devhelp.spec.in: s/gconftool/gconftool-1/

	* Makefile.am: s/gconftool/gconftool-1/

2001-12-01  Johan Dahlin  <jdahlin@telia.com>

	* src/bookshelf.c (xml_spec_get_book_uri): Remove workaround.
	(bookshelf_read_xml): If we found an old spec file (books.xml)
	remove it and display an info dialog.

	* src/install.c (install_unpack_book): Set the spec_path to book
	when installing. This fixes a bug when installing a book and then
	hide it.
	(install_book): Check if the book is already instead one more time.

	* src/devhelp-controller.c (devhelp_controller_init): Modify to
	match bookshelf_new update.

	* src/bookshelf.c (bookshelf_new): Clean up. Do
	function_database_freeze/thaw here instead of elsewhere.
	Add /usr/share/devhelp and /usr/local/share/devhelp to list
	of directories.
	(bookshelf_show_book): Call bookshelf_add_book after the book is
	removed from xml_books.
	(bookshelf_read_xml): Check if the book exist before we add it.
	(bookshelf_add_book): Call bookshelf_have_book instead
	bookshelf_find_book_by_name.
	(bookshelf_add_directory): Make sure the directory exist before
	parsing it.
	(bookshelf_have_book): Impl.

	* src/book.c (book_set_spec_file): Impl.

	* src/book-index.c (book_index_populate_tree): Use
	gtk_ctree_sort_node instead of gtk_clist_sort.

2001-11-28  Johan Dahlin  <jdahlin@telia.com>

	* src/devhelp-window.c: Style fixes.

	* src/bookshelf.c (bookshelf_get_hidden_books): Update.
	(bookshelf_show_book): Dito
	(xml_spec_get_book_uri): New function
	(bookshelf_add_directory): Update.

2001-11-26  Johan Dahlin  <jdahlin@telia.com>

	* src/function-database.h: Added function_removed here too.
	A few style fixes i forgot to do yesterday.

	* src/function-database.c (fd_class_init): Added function_removed signal.
	(fd_idle_search): Call it.

	* src/devhelp-search.c (devhelp_search_function_removed_cb): Impl.
	(devhelp_search_new): connect signal function_removed.

2001-11-25  Johan Dahlin  <jdahlin@telia.com>

	* src/devhelp-controller.c (devhelp_controller_book_removed_cb):
	Remove all functions in book from function_database.

	* src/function-database.c (function_database_remove_function): Impl.

	* src/book.c: Added functions to _BookPriv.
	(book_parse_function): Add function to priv->functions.
	(book_get_functions): Impl.

	* src/book-index.c (book_index_remove_book): Impl.

	* configure.in: Added libglade check. Added LIBGLADE_CFLAGS.
	
	* src/Makefile.am (INCLDES): Added LIBGLADE_CFLAGS.

2001-11-17  Mikael Hallendal  <micke@codefactory.se>

	* src/bookshelf.c (bookshelf_add_directory): DON'T SEGFAULT ON
	STARTUP.

2001-11-15  Ross Golder  <ross@golder.org>

	* devhelp.spec.in: Changed ${_sysconfdir} to %{_sysconfdir}

2001-10-25  Johan Dahlin  <zilch.am@home.se>

	* src/devhelp-controller.c (devhelp_controller_init): Use
	~/.devhelp as constructor and add DATA_DIR/devhelp later.

	* src/bookshelf.h: Added XMLBook, since it's used in books-dialog.c.
	Removed bookshelf_read_xml, added bookshelf_get_hidden_books,
	show/hide_book

	* src/bookshelf.c (bookshelf_new): Read ~/.devhelp/books.xml here.
	(bookshelf_get_hidden_books): New function
	(bookshelf_hide_book): New function
	(bookshelf_show_book): New function
	(bookshelf_read_xml): Updated.
	(bookshelf_write_xml): Updated.
	(bookshelf_add_directory): Updated, much cleaner now.

	* src/books-dialog.c: Changed to match bookshelf updates.

	* src/book-index.c (book_index_open_node): Style fix.

2001-10-22  Mikael Hallendal  <micke@codefactory.se>

	* src/book.c (book_new): copy spec-file uri.
	(book_get_spec_file): added/impl, returns the uri to the
	spec-file.

2001-10-20  Mikael Hallendal  <micke@codefactory.se>

	* src/bookshelf.c (version_strcmp): style fix
	(bookshelf_read_books_dir): style fix.

2001-10-20  Johan Dahlin  <zilch.am@home.se>

	* src/main.c (main): Set wm icon by calling 
	gnome_window_icon_set_default_from_file.

	* debian/control (Depends): Remove dependency of libgnome-vfs-dev

2001-10-20  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Add zh_TW to ALL_LINGUAS once again, after discussing
	  with translator. Right pane has no proper i18n support, but just
	  disabling one translation entry is ok.

2001-10-19  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-window.c (dw_zoom_level_changed_cb): style fix

2001-10-19  Johan Dahlin  <zilch.am@home.se>

	* Makefile.am (install-data-local): Remove gconftool --shutdown.

	* devhelp.spec.in: Make it non b0rked.

	* src/devhelp-window.c (dw_zoom_level_changed_cb): Set menus
	correctly.

2001-10-19  Christophe Merlet  <redfox@eikonex.org>

	* configure.in: Added "fr" to ALL_LINGUAS.

2001-10-19  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Added "no" to ALL_LINGUAS.
	
2001-10-18  Christopher R. Gabriel  <cgabriel@cgabriel.org>

	* configure.in (ALL_LINGUAS): Added 'it'

2001-10-18  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Forced to disable traditional Chinese translation
	  temporarily, it was not shown at all on right pane.

2001-10-18  Stanislav Visnovsky  <visnovsky@nenya.ms.mff.cuni.cz>

	* configure.in: Added "sk" to ALL_LINGUAS.

2001-10-18  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: gnome-print version was not checked properly.

2001-10-18  Johan Dahlin  <zilch.am@home.se>

	* src/bookshelf.c (bookshelf_add_book): Use a 'better' strcmp.

2001-10-17  Johan Dahlin  <zilch.am@home.se>

	* debian/.cvsignore: s/debian//.

	* src/bookshelf.c (bookshelf_add_directory): Fix so global books
	can be hidden.

2001-10-17  Johan Dahlin  <zilch.am@home.se>

	* debian/*: Added files for debian package.
	
	* devhelp.spec.in: Big update.

	* configure.in: Added a few *_REQUIRED and bumped another few.

	* src/devhelp-window.c (cmd_size_change_cb): Removed.
	(size_ui_listener): Added.
	(devhelp_window_new): Add 4 listeners.

	* ui/GNOME_DevHelp.ui: Updated to use radio style on font size.
	
2001-10-17  Richard Hult  <rhult@codefactory.se>

	* src/devhelp-search.c (devhelp_search_entry_key_press_cb): Better
	fix for the key navigation in the search entry.

2001-10-17  Mikael Hallendal  <micke@codefactory.se>

	* Makefile.am (EXTRA_DIST): added vim/devhelp.vim

	* configure.in: bumped version to 0.2.0.99

	* src/devhelp-controller.c:
	- fixes bug #195 in CFB.
	(devhelp_controller_open): call bookshelf_open_document.
	(cmd_back_cb): set back button unsensitive while processing.
	(cmd_forward_cb): set forward button unsensitive while processing.

	* src/book-index.c: 
	(book_index_new): unselect all, fixes bug #246 in CFB.
	
	- include gdk/gdkkeysyms.h
	- fixes bug #245 in CFB.
	(book_index_key_press_event): new function, impl.
	(book_index_get_scrolled): selection_mode = GTK_SELECTION_SINGLE.
	(book_index_class_init): override key_press_event.

2001-10-17  Abel Cheung  <maddog@linux.org.hk>

	* configure.in: Added es and zh_TW to ALL_LINGUAS.

2001-10-16  Mikael Hallendal  <micke@codefactory.se>

	* src/book-index.c:
	(book_index_add_book): gtk_clist_sort, fixes bug #203 in CFB.
	(book_index_populate_tree): Call gtk_clist_sort just to make sure.

	* ui/devhelp.glade: 
	- removed mainapp, uses BonoboWindow now. Fixes bug #236 in
	  CF-bugzilla.
	- Changed Devhelp -> DevHelp, fixes #237 in CFB.

	* src/devhelp-controller.c:
	(impl_DevHelp_Controller_openURI): copy the CORBA_char *str_uri
	before starting to use it. fixes bug #201 in CF-bugzilla.

2001-10-15  Richard Hult  <rhult@codefactory.se>

	* devhelp.spec.in: Install libs, patch from 
	mike@gtnorthern.demon.co.uk.

2001-10-15  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-controller.c (devhelp_controller_init): use
	DATA_DIR/devhelp instead of of DATA_DIR/devhelp/spec.

	* configure.in: bumped version to 0.2

	* NEWS: updated for 0.2

2001-10-13  Richard Hult  <rhult@codefactory.se>

	* devhelp.desktop.in: s/Devhelp/DevHelp/.

	* src/html-widget.c (html_widget_open_uri): Comment out annoying
	debugging message.

	* src/devhelp-search.c (devhelp_search_entry_key_press_cb): 
	Ugly hack to stop the entry to lose focus when using the
	left/right arrows to navigate the text.

	* src/devhelp-window.c (note_change_page, note_page_mapped,
	note_page_unmapped, note_page_setup_signals,
	notebook_append_page_with_accelerator): Added helper functions to
	add accelerators to the notebook pages.
	(devhelp_window_populate): Use them here.

2001-10-11  Mikael Hallendal  <micke@codefactory.se>

	* src/Makefile.am (EXTRA_DIST): added GNOME_DevHelp.oaf.in.in

	* ui/Makefile.am (EXTRA_DIST): added ui_DATA

2001-10-10  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-search.c (devhelp_search_complete_idle): 
	- call bookshelf_open_document before signaling, fixes
	  link-clicking problem.

2001-09-04  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-window.c (devhelp_window_new): set wmclass.

2001-09-02  Zbigniew Chyla  <cyba@gnome.pl>

	* configure.in (ALL_LINGUAS): Added pl.

2001-08-31  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp-window.c:
	(devhelp_window_populate): added frames around the stuff in the
	paned.

2001-08-26  Yanko Kaneti  <yaneti@declera.com>

	* Makefile.am: fix schemas_DATA when --disable-install-schemas 
	was not used.

2001-08-26  Mikael Hallendal  <micke@codefactory.se>

	* ui/GNOME_DevHelp_Controller.ui: 
	- added tooltip for CmdBookManager.

	* ui/GNOME_DevHelp.ui:
	- added tooltips
	- removed moved command.
	- use BonoboUI statusbar.

	* src/devhelp-window.c:
	- RHult informed me that I should use the statusbar API from
	  BonoboUI instead. Here we go...
	(devhelp_window_on_url_cb): updated to use BonoboUI statusbar
	  instead.
	(devhelp_window_populate): no need for using GtkStatusbar. 

	* src/devhelp-window.c:
	- Fixes bug #202.
	(devhelp_window_link_clicked_cb): changed argument order.
	(devhelp_window_on_url_cb): added/impl. Sets the statusbar when
	  mouse over a link.
	(devhelp_window_populate): 
	- Moved a couple of containers from priv-struct to local. 
	- Added statusbar
	- Connect to "on_url" from html_widget.

	* ui/GNOME_DevHelp_Controller.ui: added tip for forward/back.

	* src/devhelp-controller.c:
	(cmd_forward_cb): check if forward list exists.
	(cmd_back_cb): check if prev list exists.

	* ui/GNOME_DevHelp.ui: added submenu for font size.

	* src/book-index.c:
	(book_index_get_scrolled): don't want to emit signal when setting
	  selection mode. fixes bug #200.

	* ui/GNOME_DevHelp.ui: removed Edit-menu

	* src/devhelp-controller.c:
	(devhelp_controller_open): call devhelp_controller_emit_uri from
	  here. 
	(cmd_back_cb): don't use no GnomeVFSURI. Don't emit signal, done
	from devhelp_controller_open.
	(cmd_forward_cb): dito.

	* configure.in: bumped version to 0.1.99

	* src/GNOME_DevHelp.oaf.in.in: 
	- tagged names for translation.
	- removed moniker attribute.

	* src/devhelp-controller.c: removed debug printouts and an
	  outcommented line.

2001-08-26  Yanko Kaneti  <yaneti@declera.com>

	* configure.in:
	* Makefile.am: add --disable-install-schemas to the available 
	configure flags. When used skips all install gconf schemas steps.

2001-08-26  Mikael Hallendal  <micke@codefactory.se>

	* ui/GNOME_DevHelp_Controller.ui: 
	- added CmdBack and CmdForward. Added toolbar items.

	* src/history.[ch]: 
	- Again changed. This time to use strings instead of
	  Document+anchor. First it used URI's. Now it is very general.
	- Removed HistoryData struct.
	(history_data_new): removed.
	(history_goto): changed inargs.
	(history_go_forward): changed in/returns
	(history_go_back): dito.
	(history_get_current): dito.

	* src/devhelp-controller.c:
	- Added history support.
	(devhelp_controller_open): added/impl. broke out code from
	  impl_DevHelp_Controller_openURI. This is now also used in
	  callbacks from cmdForward and cmdBack. 
	(devhelp_controller_emit_uri): added/impl. broke out code from
	  devhelp_controller_uri_cb. This is now also used in callbacks
	  from cmdForward and cmdBack.
	(cmd_back_cb): added/impl. Handles when user presses toolbar
	  button Back. 
	(cmd_forward_cb): added/impl. Handles when user presses toolbar
	  button forward.
	(devhelp_controller_init): connect to history signals.
	(devhelp_controller_forward_exists_changed_cb):
	  added/impl. changes sensitivity of forward button whether there
	  are any entries in the forward list or not. Callback from
	  History signal 'forward_exists_changed'.
	(devhelp_controller_back_exists_changed_cb): added/impl. changes
	  sensitivity of back button in toolbar depending on whether there
	  are any entries in the back list. Callback from History signal
	  'back_exists_changed'  
	(devhelp_controller_uri_cb): call history_goto and
	  devhelp_controller_emit_uri.
	(impl_DevHelp_Controller_openURI): call history_goto and
	  devhelp_controller_open. 

	* src/bookshelf.[ch] (bookshelf_find_node): take document as a
	  const. 

	* src/GNOME_DevHelp.oaf.in: removed from CVS. generated from
	  GNOME_DevHelp.oaf.in.in

2001-08-25  Mikael Hallendal  <micke@codefactory.se>

	* ui/GNOME_DevHelp_Controller.ui: moved BookManager to Settings
	  menu. Will discuss this with campd later.

2001-08-25  Yanko Kaneti  <yaneti@declera.com>

	* devhelp.spec.in:
	* Makefile.am
	* configure.in: rely on GConf (1.0.4) to get the default schema source

2001-08-25  Richard Hult  <rhult@codefactory.se>

	* src/Makefile.am: Generate the oaf.in from oaf.in.in and add the
	oaf and oaf.in to CLEANFILES.

	* src/GNOME_DevHelp.oaf.in.in: Move from oaf.in to oaf.in.in and
	don't hard code the library path for the shlib component. Also
	remove Moniker from the list of supported interfaces since we
	don't have a moniker.  

2001-08-25  Mikael Hallendal  <micke@codefactory.se>

	* ui/Makefile.am (ui_DATA): added with:
	- GNOME_DevHelp.ui (the DevHelp client's ui)
	- GNOME_DevHelp_Controller.ui (UI that comes from the Controller).

	* src/preferences.c: 
	- Use GtkArgs instead of get/set-functions.
	- Added signals for when arguments changes.
	- Removed all autocompletion-prefs since they are not used any
	  longer. Always autocompletion and it's done in an idle so
	  therefor autocomp.-speed is removed aswell.
	- Made into a object that inherits GtkObject.
	- Removed dependency on ui.c
	(preferences_get_type): added/impl.
	(preferences_init): added/impl.
	(preferences_class_init): added/impl.
	(preferences_set_*): removed
	(preferences_get_*): removed
	(preferences_get_arg): added/impl.
	(preferences_set_arg): added/impl.
	(gconf_*_changed_cb): emit signal instead of calling 
	 functions all over the place.

	* src/preferences-dialog.c: 
	- removed unused stuff from PreferenceDialog-struct. 
	- removed all GConf-stuff. Listen to signals from Prefernces
  	  instead.
	- Removed all autocompletion-stuff.
	- Use Preferences GtkArg's instead of get/set-functions
	(pd_zoom_level_changed_cb): Preferences-cb instead of gconf-cb.
	(pd_sidebar_visible_changed_cb): dito.
	(gconf_autocompletion_changed_cb): removed	
	(prefs_destroy_cb): don't remove listeners from gconf.
	(preferences_dialog_new): renamed from
	  menu_preferences_activate_cb and cleaned up.

	* src/main.c: 
	(corba_search_cb): removed.
	(corba_search_in_new_window_cb): removed.
	(devhelp_factory): don't listen to any help_browser signals.
	(idle_activate_and_search_quit): don't return if data != NULL.
	(main): call, glade_gnome_init, don't call g_thread_init.
	
	* src/install.c: 
	- Don't use DevHelp struct, now removed.
	(install_unpack_book): takes Bookshelf instead of DevHelp.
	(install_insert_book): Dito.
	(install_book): Dito.

	* src/html-widget.h: added html_widget_print.

	* src/html-widget.c: 
	- removed unncessary comments.
	- moved print (HtmlWidget *widget) here and renamed it
	  html_widget_print. This comes from the now removed file print.c

	* src/help-browser.c: 
	- removed signals 'search' and 'search_in_new_window'.
	- temporarly disable the windows-list. Currently only using one
	  window.
	(impl_HelpBrowser_search): call devhelp_window_search instead of
	  emitting a signal.
	(impl_HelpBrowser_searchInNewWindow): Do not emit, should create a
	  new window and call devhelp_window_search on it. Not implemented
	  yet though.
	(help_browser_class_init): removed the signals mentioned above.

	* src/devhelp-window.c: 
	- Main window in the DevHelp app. This uses the so-lib exactly as
	  any embedding app would. Therefor it should be a good place to
	  look if you want to embed DevHelp inside your application using
	  Bonobo. Look in devhelp_window_populate how to activate and use
	  DevHelp. 
	- A BonoboWindow using BonoboUI for menus and toolbar.

	* src/devhelp-search.[ch]:
	(devhelp_search_get_entry_widget): added/impl. returns the search
	  entry.
	(devhelp_search_set_search_string): added/impl. set's the search
	  string in the entry.
	(devhelp_search_get_result_widget): added/impl. returns the search
	result list in a scrolled window.

	* src/bookshelf.[ch]: 
	- Added signals 'book_added' and 'book_removed'.
	(bookshelf_add_book): emit 'book_added'
	(bookshelf_remove_book): emit 'book_removed'

	* src/books-dialog.[ch]:
	- Removed everything that had todo with gconf. The gconf-stuff is
	  now isolated in preferences.c. 
	- Removed DevHelp references (that struct is removed). Instead use
	  Bookshelf. 
	- code cleanups.
	(gconf_sidebar_visible_changed_cb): removed
	(books_dialog_new): 
	  - renamed from menu_options_books_activate_cb
	    since it's a better name and the dialog knows nothing about
	    any menu. 
	  - Removed gconf-stuff. 

	* src/book.c:
	(book_node_get_uri): handle the extra 'anchor'-argument. 
	(book_url_get_book_relative): removed a debug printout.

	* src/book-node.h: book_node_get_uri takes an extra optional (set
	  to NULL if not used) argument. This is a work around the problem
	  that there are book_node's without the correct anchor set.

	* src/book-index.[ch]: moved around functions to come in the same
	  order as the declarations. Makes it easier to find the function.
	(book_index_select_row): added argument to book_node_get_uri,
	  somewhat work around.
	(book_index_get_scrolled): added, returns the BookIndex widget in
	  a scrolled window.

	* src/Makefile.am:
	(libdevhelp_la_SOURCES): 
	- Build a so-lib which activates through OAF.
	- Moved files into the so-lib instead of everything into the same
	  binary. This includes all internal devhelp-stuff will be used by
	  other clients then the DevHelp gui.
	(devhelp_SOURCES): Removed:
	- main.h
	- ui.[ch]
	- print.[ch]
	
	* src/GNOME_DevHelp.oaf.in: 
	- Added GNOME_DevHelp_Controller factory.
	- Added GNOME_DevHelp_Controller.

	* idl/GNOME_DevHelp.idl:
	- Added interface GNOME_DevHelp_Controller.
	- This interface takes care of communication between "client" and
	  the so-lib "server".

	* devhelp.schemas: removed autocompletion schema.

	* ui/GNOME_DevHelp.ui: Added.

	* ui/GNOME_DevHelp_Controller.ui: Added.

	* src/ui.[ch]: Removed.

	* src/print.[ch]: Removed.

	* src/main.h: Removed.
	
	* ui/devhelp.glade: updated.

	* src/devhelp-controller.[ch]: Added.

2001-08-22  Mikael Hallendal  <micke@codefactory.se>

	* misc/devhelp.vim: remove -f here to.

2001-08-22  Richard Hult  <rhult@codefactory.se>

	* misc/devhelp.el (devhelp-word-at-point): Don't use -f, it's
	removed.

2001-08-14  Fatih Demir <kabalak@gtranslator.org>

	* .cvsignore & xml-i18n*: The xml-i18n-tools are to be ignored,
		they're autogenerated.

2001-08-13  Mikael Hallendal  <micke@codefactory.se>

	* src/main.c: 
	- added DEVHELP_FACTORY_OAFIID.
	- renamed factory_fn to devhelp_factory.
        - removed following two functions, it's done in the main-function
	  now. It will always be started by a factory now.
	(devhelp_factory_main): removed
	(devhelp_normal_main): removed
	(main): removed the use-factory argument, always use factory now.

	* src/devhelp-window.[ch]: 
	- Added
	- This is a BonoboWindow which will be used to put the different
	  controls in.

	* src/devhelp-search.c (devhelp_search_init): fixed c&p error.

	* src/Makefile.am (devhelp_SOURCES): added devhelp-window.[ch]

	* src/main.c: Devhelp -> DevHelp.

	* src/help-browser.[ch]: Devhelp -> DevHelp.

	* src/Makefile.am: Devhelp -> DevHelp

	* src/GNOME_DevHelp.oaf.in: Devhelp -> DevHelp.

	* src/.cvsignore: Devhelp -> DevHelp.

	* idl/GNOME_DevHelp.idl: renamed from GNOME_DevHelp.idl.

	* src/ui.c (main_window_key_press_event_cb): grab focus, had
	  commented this out during testing before.

	* ui/devhelp.glade: removed the search entry. Now created in
	  devhelp-serach and referenced by devhelp_search_get_entry. 

	* src/main.h: added DevHelpSearch and made references to clist and
	  entry pointers to GtkWidget * instead.

	* src/main.c (corba_search_cb): cast devhelp->entry (now a
	  GtkWidget * instead of a GtkEntry *.
	(devhelp_normal_main): dito.

	* src/bookshelf.c: moved around some functions to reflect the
	  order they are declared, makes it easier to find in the file.
	(bookshelf_get_function_database): added, returns a reference to
	  the function database.

	* src/book-index.[ch]: some include-fixes.

	* src/Makefile.am (devhelp_SOURCES): added devhelp-search.[ch].

	* src/devhelp-search.[ch]: added/impl. 
	- This is a GtkObject which initialize and hides all the work
	  between the GtkCList and the GtkEntry. 
	- A reference to the entry is returned from
	  devhelp_search_get_entry. and to the clist with 
	  devhelp_search_get_result_list.
	- A signal uri_selected is emmited when a hit is clicked in the
	  CList.

	* src/ui.c:
	- much code moved into devhelp-search.
	(gtk_clist_if_exact_go_there): removed.
	(gtk_clist_set_contents): removed
	(clist_select_row_cb): removed
	(search_entry_changed_cb): removed.
	(complete_idle): removed.
	(search_entry_insert_text_cb): removed.
	(search_entry_key_press_cb): removed.
	(search_entry_activate_cb): removed.
	(get_search_string_cb): removed.
	(exact_hit_found_cb): removed.
	(devhelp_search): removed.
	(hits_found_cb): removed.
	(search_button_clicked_cb): removed.

2001-08-12  Mikael Hallendal  <micke@codefactory.se>

	* src/book-index.c (book_index_class_init): override
	gtkobject->destroy. 

	* src/book-index.h: fixed the header.

	* src/book-index.c (book_index_destroy): added/impl.

	* src/ui.c:
	(gtk_ctree_goto): removed.
	(ctree_select_row_cb): removed.
	(book_index_uri_selected_cb): added, called when user clicks in
	BookIndex. 
	(devhelp_create_pixmaps): removed.
	- removed DevhelpPixmap-struct.
	(devhelp_insert_book_node): removed.
	(devhelp_create_book_tree): removed.
	- Use BookIndex instead of GtkCTree directly., much of the
	functionality has been moved into BookIndex internals. Much
	cleanups in ui.c
	(devhelp_create_ui): moved around to initialize Bookshelf before
	the BookIndex.
	- removed DevHelpPixmaps.
	
	* src/main.h: changed the DevHelp->ctree for a DevHelp->book_index.

	* src/install.c (install_insert_book): call book_index_add_book
	instead of doing all the dirty work yourself.

	* src/bookshelf.c:
	(bookshelf_find_document): also handles absolute url's.

	* src/book.c:
	(book_url_get_book_relative): now also handles absolute url's.

	* src/book-index.[ch]: 
	- Added
	- This is a subclass of GtkCTree which is used to display the
	  book-index. It will later be available as a BonoboControl which
	  is used with BonoboPropertyBag.

	* src/Makefile.am (devhelp_SOURCES): added book-index.[ch]

	* devhelp.spec.in: added sysconfdir by request of YupaSD.

2001-08-09  Richard Hult  <rhult@codefactory.se>

	* src/ui.c (main_window_key_press_event_cb): Make control-l focus
	the search entry and select the contents of the entry.

2001-08-07  Mikael Hallendal  <micke@codefactory.se>

	* src/bookshelf.[ch]: added bookshelf_remove book.

2001-08-05  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c (devhelp_create_ui): gtk_clist_set_column_with &
	gtk_clist_set_selection_mode added, this fixes click on link and
	ctree will go empty bug.

2001-08-05  Mikael Hallendal  <micke@codefactory.se>

	* src/ui.c: just some style cleanups.

	* src/bookmark-manager.c: fixed to work fine with Document/anchor
	way of doing it.

	* src/book-node.h: include libgnomevfs/gnome-vfs.h

2001-08-04  Johan Dahlin  <zilch.am@home.se>

	* misc/devhelp.vim: Added. Thanks goes to Gert.

2001-08-02  Johan Dahlin  <zilch.am@home.se>

	* configure.in (DEVHELP_VERSION): Bumped version to 0.1.1

2001-08-02  Mikael Hallendal  <micke@codefactory.se>

	* src/bookshelf.c (bookshelf_write_xml): the path should be freed.

2001-08-01  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.glade: Remove clist and ctree, but keep scrolled windows.

	* src/ui.c (devhelp_insert_book_node): Added visible check.
	(devhelp_create_ui): Create ctree and clist here instead of in glade.

	* src/bookshelf.h: Fix bookshelf_write_xml.

	* src/bookshelf.c: Added visible here too.
	(bookshelf_write_xml): Remove root from arguments, and add visible check.
	(bookshelf_read_xml): Dito.

	* src/books-dialog.c (books_button_show_clicked_cb): Updated
	(books_button_hide_clicked_cb): Dito.
	(update_clist): Dito.

	* src/book.h: added book_set/is_visible here too.

	* src/book.c: Added visible.
	(book_set_visible): New function.
	(book_is_visible): New function.

	* src/bookshelf.c (bookshelf_write_xml): Use book_get_path to get
	the path.

2001-08-01  Mikael Hallendal  <micke@codefactory.se>

	* src/books-dialog.c 
	(books_button_edit_clicked_cb): free the path.
	(info_button_ok_clicked_cb): free the path.

	* src/book.c (book_get_path): don't return const gchar since it
	has to be freed.

2001-08-01  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c (menu_help_about_activate_cb): Make the copyright
	string translatable.

	* src/install.c (install_insert_book): make it look prettier.
	(install_book): Show mime_type with error messages

	* src/book.c (book_get_path): Use gnome_vfs_uri_to_string instead
	of gnome_vfs_uri_get_path.

2001-08-01  Mikael Hallendal  <micke@codefactory.se>

	* src/install.c (install_insert_book): don't freeze/thaw function
	database since it's not changed between the freeze and the thaw.

	* src/bookshelf.c:
	- cleaned up some code in bookshelf_write_xml and
   	  bookshelf_read_xml.
	(bookshelf_write_xml): fix leak.

2001-07-31  Johan Dahlin  <zilch.am@home.se>

	* src/book.c: 
	* src/bookshelf.c: 
	* src/main.c: #include s/libxml/gnome-xml/ beacause it seems to
	work better for a lot of peoples, Thanks goes to Alfons Hoogervorst.

	* src/books-dialog.c (books_button_edit_clicked_cb): If no books
	is installed and Edit book is clicked, return;
	(info_button_ok_clicked_cb): check if book is null. Fixes segfault.

	* configure.in: s/AM_GNU_GETTEXT/AM_GNOME_GETTEXT/. Thanks goes to Yanko Kaneti.

	0.1.0 Released.

	Imported to GNOME CVS.

2001-07-31  Richard Hult  <rhult@codefactory.se>

	* src/main.c (idle_activate_and_search): Eek, data is allowed to
	be NULL so don't g_return_fail.
	(activate_and_search): Only search if search string =! NULL.

	* src/html-widget.c: Include config.h to get i18n working.

	* src/main.c: Clean up a bit and init threads for gnome-vfs.

	* src/main.h: Add search_button to devhelp struct.

	Commented-out code that will be used when the non-autocompletion
	case works:
	* src/ui.c (autocompletion_toggled_cb): Make the search button
	sensitivite if autocompetion is not on.
	(devhelp_create_ui): Set initial sensitivity correctly as well.

2001-07-31  Johan Dahlin  <zilch.am@home.se>

	* configure.in: GTKHTML 0.9.1 & GNOME_VFS 1.0.0 is now reqired.

	* src/install.c (install_book): Remove message.

	* src/bookshelf.c (bookshelf_add_book): Check if the book is
	installed correctly.

	* src/book.c (book_parse): s/name/priv->name/

	* ui/devhelp.png: New version, Thanks Marcus Leyman.
	
2001-07-30  Mikael Hallendal  <micke@codefactory.se>

	* src/book.c (book_node_find): take document as const.

	* src/install.c: include gnome-vfs-mime.h

	* src/bookshelf.c (bookshelf_add_book): fixed error that caused
	non-compile issue.

	* src/book.c: moved book_set_base_url to reside with the other
	non-static functions.
	(book_set_base_url): don't destroy the url argument.
	(book_parse): no need to check for base_url since it's no longer
	used. free the xml_str only if it's not NULL.
	(book_url_get_book_relative): moved to be with the other static
	functions. 

2001-07-30  Johan Dahlin  <zilch.am@home.se>

	* src/book.c (book_parse): Removed gconf code.

	* src/ui.c (addbook_dialog_clicked_cb): New function, stolen
	from books-dialog.c (change one or two lines).
	(addbook_key_event): Dito.
	(menu_file_addbook_activate_cb): Dito.
	(devhelp_create_ui): Load menu_file_addbook item.

	* src/install.c (gnome_message): New function.
	(install_create_directory): static for now.
	(install_create_directories): Remove gconf code.
	(install_is_book_installed): Remove.
	(install_register_book): Remove.	
	(install_insert_book): Add bookshelf_write_xml, since it makes
	most sense here.

	* src/html-widget.c (html_widget_new): Make intro html page translatable.
	(html_widget_async_open_cb): Make error message translatable.

	* src/bookshelf.h: Add prototypes for bookshelf_read_xml,
	bookshelf_write_xml.

	* src/bookshelf.c: include libgnome/gnome-defs.h & gnome-i18n.h
	XMLBook, new struct.
	(bookshelf_write_xml): New function.
	(bookshelf_read_xml): New function.
	(bookshelf_add_book): Check to see if the book is already installed.

	* src/books-dialog.c (books_button_hide_clicked_cb): remove a g_message.
	(update_clist): Remove gconf code and add xml code.

	* src/book.h: Added prototype for book_set_base_url.

	* src/book.c (book_set_base_url): New function.
	(book_parse): Use book_set_base_url here.
	(book_get_path): Use gnome_vfs_uri_get_path here.

2001-07-28  Johan Dahlin  <zilch.am@home.se>

	* src/install.c (install_book): Can now install .spec files correctly.

	* src/bookshelf.[ch] (bookshelf_write_xml): Added (unused for now).

2001-07-24  Johan Dahlin  <zilch.am@home.se>

	* src/preferences.c (preferences_new): Don't watch /apps/devhelp/books.

	* src/install.c (install_is_book_installed): 
	(install_register_book): Use book_get_name instead of book_get_full_name.
	(install_register_book): Update Path.

	* src/books-dialog.c (update_clist): Dito.

	* src/book.c (book_parse): Update path.

2001-07-23  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.glade: A few changes here to, can't remember exactly
	what i changed ;)
	
	* src/html-widget.c (READ_BUFFER_SIZE): Increase buffer size to 8192.

	* src/main.c (main): Create directories here.

	* src/books-dialog.[ch]: Lots and lots of changes in here.

	* src/install.[ch]: Lots and lots of changes in here.	

	* src/book.c (book_get_name_full): New function.
	(book_get_path): New function.
	
	* src/book.h: Dito.

	* src/bookshelf.h: Make bookshelf_add_book and
	bookshelf_add_directory public.

	* src/bookshelf.c: Renamed bookshelf_fill_with_books to 
	bookshelf_add_directory.
	BookshelfPriv: Removed books_uri.
	(bookshelf_add_book): New function.
	
	* src/ui.c (devhelp_create_pixmaps): 
	(devhelp_insert_book_node): 
	(devhelp_create_book_tree): Make functions non-static.
	(devhelp_create_ui): Change bookshelf init.

	* src/ui.h: Moved here from ui.c
	Renamed a few functions, added a few functions.

2001-07-21  Johan Dahlin  <zilch.am@home.se>

	* Makefile.am: Add gconf-schema support

	* configure.in: Rewrite gconf support totaly (stole it from eog)

	* src/function-database.c (function_database_thaw): Fix a warning
	if no book are found.

2001-07-20  Mikael Hallendal  <micke@codefactory.se>

	* src/book.c: removed debug printouts

	* src/ui.c: removed debug printouts

	* books/libc/libc.xml: updated, set link correctly.

	* src/*: New book/bookshelf-structure. Too much to list.

2001-07-19  Richard Hult  <rhult@codefactory.se>

	* src/ui.c: Remove book installation stuff from here.

	* src/books-dialog.[ch]: New files to handle book management.
	
	* src/books-dialog.c: Move install book stuff from ui.c to here.

	* configure.in: Revert weird name change I did.

	* autogen.sh: Ditto. 

	* src/ui.c (menu_file_addbook_cb): Set wmclass/name on dialog.
	(addbook_dialog_clicked_cb): If a directory is selected when ok is
	pressed, go into that directory instead of trying to install it as
	a book.
	(addbook_key_event): Close the dialog on Escape.

	* src/html-widget.c (html_widget_new): Add a little note about
	tree navigation.

	* src/main.c (main): Comment out the gnome_shutdown call.

	* src/ui.c (menu_help_about_activate_cb): add (C) to copyright.

	* autogen.sh: Change name to DevHelp.

	* configure.in: Change name to DevHelp.

2001-07-19  Johan Dahlin  <zilch.am@home.se>

	* src/install.c (install_book): Remove #ifdef 0

	* ui/devhelp.glade: Add File->Add book.

	* src/ui.c (menu_file_addbook_cb): New callback.
	(addbook_dialog_clicked_cb): Dito.
	(devhelp_create_ui): Add here too.

	* src/preferences.c (preferences_new): Create '/app/devhelp/books'.

	* src/install.h: 
	* src/install.c: New files

	* src/Makefile.am (devhelp_SOURCES): Add install.[ch]

2001-07-19  Richard Hult  <rhult@codefactory.se>

	* src/ui.c (devhelp_create_ui): Rearranged a bit in the menu structure.

	* src/preferences-dialog.c: Hook up autocompetion speed settings.

	* src/preferences.c: Ditto.

	* src/ui.c: Hook up zoom level. Change when gconf tells us to, set
	the right initial value.

	* src/preferences-dialog.c: Ditto with show/hide sidebar and zoom level.

	* src/ui.c: Move things from main.h to here, as they have nothing
	to do with anything outside ui.c

	* src/html-widget.c (html_widget_new): Load an initial page into
	the html widget.

	* src/ui.c (devhelp_ui_show_sidebar): The html widget is in a
	frame now.
	(devhelp_create_ui): Put the html widget in a frame with "in" shadow.

2001-07-19  Richard Hult  <rhult@codefactory.se>

	* src/ui.c: Make functions public so that the preference code can
	set stuff.
	(devhelp_insert_book_node): Remove unneccessary g_strdup/g_free
	pair that gets called a lot.

	* src/main.h: Make zoom levels an enum.

	* src/ui.c (menu_help_about_activate_cb): Fix typo.

2001-07-19  Johan Dahlin  <zilch.am@home.se>

	* src/html-widget.c: s/gpointer user_data/HtmlReadData *read_data/
	+ a little bit more

	* src/main.c (main): Reorganize a bit a fix --help bug.

	* src/ui.c: s/gpointer user_data/DevHelp *devhelp/ in a few
	places.

	* src/book.c (book_parse): Removed a g_print

2001-07-18  Richard Hult  <rhult@codefactory.se>

	* src/preferences-dialog.c (menu_preferences_activate_cb): Load
	and ditch the glade tree here.

	* src/ui.c (devhelp_create_ui): Don't keep the glade tree around.

	* src/main.h: Remove the glade widget tree from here.

	* src/preferences.c (preferences_new): Remove C++ comment.

	* src/preferences-dialog.h (__PREFERENCES_DIALOG_H__): Don't
	define this to 1, just define it.

	* src/main.c (main): Init gconf before vfs.

2001-07-18  Johan Dahlin  <zilch.am@home.se>

	* src/Makefile.am (devhelp_SOURCES): Added preferences-dialog.[ch]

	* src/preferences-dialog.h: New file

	* src/preferences-dialog.c: New file

	* src/ui.c (devhelp_create_ui): Dito

	* src/main.h (Devhelp struct): Added wtree.

2001-07-18  Richard Hult  <rhult@codefactory.se>

	* src/main.c (main): Shut down gnomevfs when we're done.

2001-07-18  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c (menu_preferences_activate_cb): New function ..
	(devhelp_create_ui): .. and new here too.

	* ui/devhelp.glade: Change name for prefs menu entry to menu_preferences.

	* src/ui.c (devhelp_create_pixmaps): Load images from 
	DATA_DIR"/images/devhelp".

	* ui/Makefile.am: Remove devhelp.png from ui_DATA since it's only
	used as icon and not in the program itself.
	Change uidir to $(datadir)/images/devhelp.
	+ a few more changes :)

2001-07-17  Mikael Hallendal  <micke@codefactory.se>

	* src/ui.c (gtk_ctree_goto): updated.

	* books/GGAD/GGAD.xml: updated book-link.

	* src/html-widget.c: use async read.
	(html_widget_open_uri): changed name from load_uri. 
	(html_widget_async_close_cb): added/impl.
	(html_widget_async_read_cb): added/impl.
	(html_widget_async_open_cb): added/impl.
	(html_widget_load_uri): changed from write_uri.

	* src/book.c (book_node_compare_func): made extern to be used from
	ui.c

	* src/ui.c (html_link_clicked_cb): call gtk_ctree_goto to show the
	correct row.
	(gtk_ctree_goto): fixed, now works correctly when having to expand
	more than one depth.
	(tree_compare_func): removed. use book_node_compare_func instead.

	* src/html-widget.c 
	(html_widget_url_requested): use base_uri instead of baseurl.
	- fixes url_request-errors.

	* src/book.c:
	(book_contains): added/impl.

	* src/book.c (book_node_new): append instead, not to many nodes,
	if we need speed we can fix this.

	* src/html-widget.c 
	(html_widget_url_requested): changed name from ..._cb. Make this
	override url_requested from gtkhtml instead of connecting to
	signal.
	(html_widget_parse_and_split_url): removed.
	- removed some debug printouts.

2001-07-17  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c (devhelp_create_pixmaps): Added gdk-pixbuf support
	again.

2001-07-17  Mikael Hallendal  <micke@codefactory.se>

	* src/util.c (util_uri_get_anchor): added/impl.

	* src/ui.c (devhelp_create_pixmaps): added/impl.
	(devhelp_insert_book_node): added/impl.
	(devhelp_create_book_tree): added/impl.
	- various fixes for using bookshelf/book.
	(bookmark_add_cb): commented out some stuff, doesn't work with
	Bookshelf/Book. 

	* src/main.c: removed all parsing stuff and such, now in
	bookshelf/book. 

	* src/html-widget.c 
	(html_widget_load_uri): changed name from ..._load_url. takes a
	uri now.
	(html_widget_write_uri): same.

	* src/function-database.c: changed for using GnomeVFSURI instead
	of urls
	- fixed the searchstuff.

	* src/history.c: same.

2001-07-17  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.glade: Added preferences dialog.

2001-07-17  Mikael Hallendal  <micke@codefactory.se>

	* books/gnomeui/gnomeui.xml: fixed default_url.

2001-07-17  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.glade: Use GTK_SELECTION_BROWSE instead of
	GTK_SELECTION_SINGLE (both CTree and CList)

	* src/ui.c (main_window_key_press_event_cb): New function. Use
	Ctrl-Arrows to navigate through the Index and Search list, even if
	they aren't focused.

2001-07-16  Mikael Hallendal  <micke@codefactory.se>

	* xml-i18n-merge.in: removed
	
	* src/book.c: updated

	* src/bookshelf.[ch]: updated

	* src/util.[ch]: added.

2001-07-16  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c (devhelp_create_ui): clist_freeze/thaw not needed since
	the windows is now hidden.
	Rename nav_buttons to toolbar_buttons.

	* src/html-widget.c (html_widget_write_url): We don't need to
	reset read_bytes for every read.

	* ui/devhelp.glade: Allow shrink and removed an unused placeholder.

	* devhelp.spec.in (Requires): Added more dependencies.

2001-07-15  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.glade: s/_Index/_Search/

	* src/main.c (main): Cleanup.
	(devhelp_normal_main): New function
	(devhelp_factory_main): Dito.
	(parse_books): Be a little bit more verbose.

2001-07-13  Johan Dahlin  <zilch.am@home.se>

	* src/main.c: 
	* src/preferences.c: 
	* src/preferences.h: 
	* src/ui.c: 
	* src/ui.h: s/DevhelpPriv/DevHelp/.

2001-07-13  Richard Hult  <rhult@codefactory.se>

	Initial cut at preferences.
	* src/ui.c: Use preferences.

	* src/preference.[ch: Preferences code.

2001-07-13  Johan Dahlin  <zilch.am@home.se>

	* src/html-widget.c (html_widget_load_url): Small (hackish) fixage.

2001-07-13  Richard Hult  <rhult@codefactory.se>

	* src/function-database.c: s/freezed/frozen/.

	* src/function-database.c (function_compare): Use a correct
	compare function for sorting the list (take two GSList *  and
	return the right values for less than/equal to/greater than).

	* src/html-widget.c (html_widget_load_url): Don't try to access
	freed memory (solve by duplicating it).

2001-07-13  Johan Dahlin  <zilch.am@home.se>

	* src/main.c (my_gtk_ctree_insert_node): Use
	gdk_pixbuf_new_from_file.

2001-07-12  Johan Dahlin  <zilch.am@home.se>

	* src/main.h (struct): Remove html.

	* src/html-widget.c: Include gnome-vfs-types.h & gnome-vfs-uri.h
	instead of gnome-vfs.h

	* src/main.c (parse_and_split_url): Fix stupid bug.

	* src/print.c: Include glib.h, gnome-defs.h, gnome-i18n.h

	* src/html-widget.h: 
	* src/print.h: Include gtkhtml-types.h instead of gtkhtml.h

2001-07-12  Richard Hult  <rhult@codefactory.se>

	* src/ui.c (html_on_url_cb): The app bar is not a GtkStatusBar
	but a GnomeAppbar.

2001-07-12  Johan Dahlin  <zilch.am@home.se>

	* src/ui.c, src/ui.h: Include main.h instead of main.h.

	* src/Makefile.am (devhelp_SOURCES): Added html-widget.[ch].

	* src/html-widget.c, src/html-widget.h: New files.

	* src/main.c, src/main.h: New files (renamed devhelp.[ch]).

	* src/ui.c (create_ui): A few more cleanups.

	* src/devhelp.c (corba_search_cb): 
	(main): Remove two type casts.

	* src/devhelp.h (DevhelpPriv struct): change GtkWidget to
	GtkNotebook.
	
	* src/Makefile.am (-DGNOMELOCALEDIR): Add this one too :)

2001-07-12  Richard Hult  <rhult@codefactory.se>

	* src/ui.c (menu_view_show_sidebar_activate_cb): Add the
	show/hide sidebar thing again.

2001-07-12  Johan Dahlin  <zilch.am@home.se>

	* src/devhelp.c, src/ui.c: Removed the d() macro.
	(main): Init gettext.

	* src/devhelp.h: Added d() macro.
	
	* src/Makefile.am (devhelp_SOURCES): Added ui.[ch]

	* src/ui.h: Added (just protdecl create_ui for now)

	* src/ui.c: Moved a lot of functions from devhelp.c *_cb &
	create_ui
	(bookmark_added_cb): Added two more g_return_if_fail checks.

	* src/devhelp.[ch]: renamed tree_goto to gtk_ctree_goto and
	changed so you send a GtkCTree instead of the whole priv struct,
	same with set_clist_contents -> gtk_clist_set_contents
	
	* src/devhelp.h: Added prototyp declaration for a few functions
	also used in ui.c, renamed fd in priv struct to function_database
	
	* src/devhelp.c (create_ui): moved glade_gnome_init here from
	main, so we don't have to include glade.h in devhelp.c
	
2001-07-12  Richard Hult  <rhult@codefactory.se>

	* src/devhelp.c (menu_view_show_sidebar_activate_cb): Reparenting
	action to hide/show the sidebar correctly.

2001-07-09  Richard Hult  <rhult@codefactory.se>

	* src/devhelp.c (menu_view_show_sidebar_activate_cb): Remove C++
	comments.
	(create_ui): Set zoom to medium as active.

2001-07-09  Johan Dahlin  <zilch.am@home.se>

	* src/help-browser.h: 
	* src/devhelp.h: 
	* src/devhelp.c: Header cleanup.
	
	* src/devhelp.c: Cleanup.

	* src/devhelp.h: Cleanup.	

2001-07-09  Mikael Hallendal  <micke@codefactory.se>

	* src/devhelp.c: defines for zooms

	* src/function-database.c 
	(function_database_freeze): added/impl.
	(function_database_thaw): added/impl.

	* src/bookshelf.[ch]: added

	* src/book.[ch]: added

2001-07-09  Johan Dahlin  <zilch.am@home.se>

	* ui/devhelp.png: Updated. Use gnome-help.png instead of
	galeon.png.

	* misc/html2xml.py: Added
	
	* misc/html2book2.py: Removed

	* misc/man2xml.py: Added

	* misc/Makefile: Removed

2001-07-09  Richard Hult <rhult@codefactory.se>

	* Imported into selma CVS.

2001-07-06  Johan Dahlin  <zilch.am@home.se>

	* devhelp.desktop.in: Added

	* src/devhelp.h: include config.h and removed VERSION from devhelp.h

